{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/lib/utils.ts"],"sourcesContent":["\nimport { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport function getCookie(name: string): string | null {\n  if (typeof document === \"undefined\") return null;\n  const value = `; ${document.cookie}`;\n  const parts = value.split(`; ${name}=`);\n  if (parts.length === 2) return parts.pop()?.split(\";\").shift() || null;\n  return null;\n}\n"],"names":[],"mappings":";;;;;;AACA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAEO,SAAS,UAAU,IAAY;IACpC,IAAI,OAAO,aAAa,aAAa,OAAO;IAC5C,MAAM,QAAQ,CAAC,EAAE,EAAE,SAAS,MAAM,EAAE;IACpC,MAAM,QAAQ,MAAM,KAAK,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;IACtC,IAAI,MAAM,MAAM,KAAK,GAAG,OAAO,MAAM,GAAG,IAAI,MAAM,KAAK,WAAW;IAClE,OAAO;AACT"}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/coordinator/components/coordinator-tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport { LayoutDashboard, Users, GraduationCap, UserRound } from \"lucide-react\";\n\nexport type CoordinatorTab = \"dashboard\" | \"turmas\" | \"teachers\" | \"students\";\n\ninterface TabItem {\n  id: CoordinatorTab;\n  label: string;\n  icon: React.ReactNode;\n}\n\nconst TABS: TabItem[] = [\n  { id: \"dashboard\", label: \"Painel\", icon: <LayoutDashboard size={18} /> },\n  { id: \"turmas\", label: \"Turmas\", icon: <Users size={18} /> },\n  { id: \"teachers\", label: \"Professores\", icon: <GraduationCap size={18} /> },\n  { id: \"students\", label: \"Alunos\", icon: <UserRound size={18} /> },\n];\n\ninterface CoordinatorTabsProps {\n  activeTab: CoordinatorTab;\n  onTabChange: (tab: CoordinatorTab) => void;\n}\n\nexport function CoordinatorTabs({ activeTab, onTabChange }: CoordinatorTabsProps) {\n  return (\n    <div className=\"flex flex-wrap gap-2 p-1 rounded-[var(--radius-lg)] bg-[var(--surface-glass)] border border-[var(--border)] backdrop-blur-md\">\n      {TABS.map((tab) => (\n        <button\n          key={tab.id}\n          onClick={() => onTabChange(tab.id)}\n          className={cn(\n            \"flex items-center gap-2 px-4 py-2.5 rounded-[var(--radius-md)] text-sm font-semibold transition-all duration-200\",\n            activeTab === tab.id\n              ? \"bg-gradient-to-r from-[var(--accent)] to-[var(--primary)] text-white shadow-lg\"\n              : \"text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface)]\"\n          )}\n        >\n          {tab.icon}\n          <span className=\"hidden sm:inline\">{tab.label}</span>\n        </button>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAHA;;;;AAaA,MAAM,OAAkB;IACtB;QAAE,IAAI;QAAa,OAAO;QAAU,oBAAM,8OAAC,+OAAe;YAAC,MAAM;;;;;;IAAO;IACxE;QAAE,IAAI;QAAU,OAAO;QAAU,oBAAM,8OAAC,6MAAK;YAAC,MAAM;;;;;;IAAO;IAC3D;QAAE,IAAI;QAAY,OAAO;QAAe,oBAAM,8OAAC,yOAAa;YAAC,MAAM;;;;;;IAAO;IAC1E;QAAE,IAAI;QAAY,OAAO;QAAU,oBAAM,8OAAC,6NAAS;YAAC,MAAM;;;;;;IAAO;CAClE;AAOM,SAAS,gBAAgB,EAAE,SAAS,EAAE,WAAW,EAAwB;IAC9E,qBACE,8OAAC;QAAI,WAAU;kBACZ,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC;gBAEC,SAAS,IAAM,YAAY,IAAI,EAAE;gBACjC,WAAW,IAAA,yHAAE,EACX,oHACA,cAAc,IAAI,EAAE,GAChB,mFACA;;oBAGL,IAAI,IAAI;kCACT,8OAAC;wBAAK,WAAU;kCAAoB,IAAI,KAAK;;;;;;;eAVxC,IAAI,EAAE;;;;;;;;;;AAerB"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/card.tsx"],"sourcesContent":["import React from \"react\";\n\ninterface CardProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: React.ReactNode;\n  variant?: \"default\" | \"glass\";\n}\n\nexport function Card({\n  children,\n  className = \"\",\n  variant = \"default\",\n  ...props\n}: CardProps) {\n  const baseStyles = \"rounded-[var(--radius-lg)] p-5 transition-all duration-200 border border-[var(--border)]\";\n  \n  const variantStyles = variant === \"glass\"\n    ? \"bg-[var(--surface-glass)] backdrop-blur-sm shadow-sm\"\n    : \"bg-[var(--surface)] shadow-md\";\n\n  return (\n    <div className={`${baseStyles} ${variantStyles} ${className}`} {...props}>\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAOO,SAAS,KAAK,EACnB,QAAQ,EACR,YAAY,EAAE,EACd,UAAU,SAAS,EACnB,GAAG,OACO;IACV,MAAM,aAAa;IAEnB,MAAM,gBAAgB,YAAY,UAC9B,yDACA;IAEJ,qBACE,8OAAC;QAAI,WAAW,GAAG,WAAW,CAAC,EAAE,cAAc,CAAC,EAAE,WAAW;QAAG,GAAG,KAAK;kBACrE;;;;;;AAGP"}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/metric-card.tsx"],"sourcesContent":["import type { ReactNode } from \"react\";\nimport { Card } from \"./card\";\nimport { cn } from \"@/lib/utils\";\n\ntype Accent = \"primary\" | \"secondary\" | \"accent\";\ntype TrendDirection = \"up\" | \"down\" | \"flat\";\n\ninterface MetricCardProps {\n  title: string;\n  value: string | number;\n  subtitle?: string;\n  icon?: ReactNode;\n  accent?: Accent;\n  trendLabel?: string;\n  trendDirection?: TrendDirection;\n  className?: string;\n}\n\nconst ACCENT_STYLES: Record<Accent, string> = {\n  primary: \"from-[var(--primary)]/85 to-[var(--primary)]/70 text-[var(--primary-fg)]\",\n  secondary: \"from-[var(--secondary)]/85 to-[var(--secondary)]/70 text-[var(--secondary-fg)]\",\n  accent: \"from-[var(--accent)]/85 to-[var(--accent)]/70 text-[var(--accent-fg)]\",\n};\n\nconst TREND_STYLES: Record<TrendDirection, string> = {\n  up: \"text-[var(--secondary)]\",\n  down: \"text-[var(--accent)]\",\n  flat: \"text-[var(--text-muted)]\",\n};\n\nexport function MetricCard({\n  title,\n  value,\n  subtitle,\n  icon,\n  accent = \"primary\",\n  trendLabel,\n  trendDirection = \"flat\",\n  className,\n}: MetricCardProps) {\n  return (\n    <Card className={cn(\"relative overflow-hidden bg-[var(--surface)] shadow-sm hover:shadow-md transition-all\", className)}>\n      <div className=\"flex items-start justify-between gap-3\">\n        <div className=\"flex-1 space-y-2\">\n          <p className=\"text-sm font-medium text-[var(--text-muted)]\">{title}</p>\n          <div className=\"text-2xl font-bold text-[var(--text)] leading-tight\">{value}</div>\n          {subtitle && <p className=\"text-sm text-[var(--text-muted)]\">{subtitle}</p>}\n          {trendLabel && (\n            <p className={cn(\"text-xs font-semibold flex items-center gap-1\", TREND_STYLES[trendDirection])}>\n              {trendDirection === \"up\" && \"‚ñ≤\"}\n              {trendDirection === \"down\" && \"‚ñº\"}\n              {trendDirection === \"flat\" && \"‚óè\"}\n              <span>{trendLabel}</span>\n            </p>\n          )}\n        </div>\n        {icon && (\n          <div\n            className={cn(\n              \"h-12 w-12 rounded-[var(--radius-lg)] flex items-center justify-center shadow-sm text-xl\",\n              \"bg-gradient-to-br\",\n              ACCENT_STYLES[accent]\n            )}\n          >\n            {icon}\n          </div>\n        )}\n      </div>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAgBA,MAAM,gBAAwC;IAC5C,SAAS;IACT,WAAW;IACX,QAAQ;AACV;AAEA,MAAM,eAA+C;IACnD,IAAI;IACJ,MAAM;IACN,MAAM;AACR;AAEO,SAAS,WAAW,EACzB,KAAK,EACL,KAAK,EACL,QAAQ,EACR,IAAI,EACJ,SAAS,SAAS,EAClB,UAAU,EACV,iBAAiB,MAAM,EACvB,SAAS,EACO;IAChB,qBACE,8OAAC,wIAAI;QAAC,WAAW,IAAA,yHAAE,EAAC,yFAAyF;kBAC3G,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAgD;;;;;;sCAC7D,8OAAC;4BAAI,WAAU;sCAAuD;;;;;;wBACrE,0BAAY,8OAAC;4BAAE,WAAU;sCAAoC;;;;;;wBAC7D,4BACC,8OAAC;4BAAE,WAAW,IAAA,yHAAE,EAAC,iDAAiD,YAAY,CAAC,eAAe;;gCAC3F,mBAAmB,QAAQ;gCAC3B,mBAAmB,UAAU;gCAC7B,mBAAmB,UAAU;8CAC9B,8OAAC;8CAAM;;;;;;;;;;;;;;;;;;gBAIZ,sBACC,8OAAC;oBACC,WAAW,IAAA,yHAAE,EACX,2FACA,qBACA,aAAa,CAAC,OAAO;8BAGtB;;;;;;;;;;;;;;;;;AAMb"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/coordinator/components/dashboard-tab.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { MetricCard } from \"@/components/ui/metric-card\";\nimport { Card } from \"@/components/ui/card\";\nimport { GlassPanel } from \"@/components/ui/glass-panel\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Activity,\n  AlertTriangle,\n  BarChart3,\n  Download,\n  Filter,\n  RefreshCw,\n  ShieldCheck,\n  ThumbsUp,\n  ThumbsDown,\n} from \"lucide-react\";\n\ntype RiskLevel = \"Alta\" | \"M√©dia\" | \"Monitorar\";\n\ninterface AtRiskStudent {\n  id: string;\n  name: string;\n  classroom: string;\n  avatar: string;\n  risk: RiskLevel;\n  reason: string;\n  flags: string[];\n}\n\ninterface ClassroomAttendance {\n  id: string;\n  name: string;\n  rate: number;\n  delta: number;\n}\n\ninterface DashboardMetrics {\n  averageAttendance: number;\n  attendanceTrend: number;\n  atRiskCount: number;\n  newAtRiskCount: number;\n  positiveFeedbacks: number;\n  negativeFeedbacks: number;\n  feedbackTrend: number;\n}\n\nconst WINDOWS = [\n  { label: \"7 dias\", value: \"7d\" },\n  { label: \"14 dias\", value: \"14d\" },\n  { label: \"30 dias\", value: \"30d\" },\n];\n\nexport function DashboardTab() {\n  const [timeWindow, setTimeWindow] = useState(WINDOWS[0].value);\n  const [selectedClassroom, setSelectedClassroom] = useState(\"todas\");\n  const [isLoading, setIsLoading] = useState(true);\n  const [atRiskStudents, setAtRiskStudents] = useState<AtRiskStudent[]>([]);\n  const [attendanceByClass, setAttendanceByClass] = useState<ClassroomAttendance[]>([]);\n  const [metrics, setMetrics] = useState<DashboardMetrics>({\n    averageAttendance: 0,\n    attendanceTrend: 0,\n    atRiskCount: 0,\n    newAtRiskCount: 0,\n    positiveFeedbacks: 0,\n    negativeFeedbacks: 0,\n    feedbackTrend: 0,\n  });\n  const [classrooms, setClassrooms] = useState<{ id: string; name: string }[]>([]);\n\n  const fetchDashboardData = async () => {\n    setIsLoading(true);\n    try {\n      // Fetch classrooms\n      const classroomsRes = await fetch(\"/api/classrooms/\", { credentials: \"include\" });\n      if (classroomsRes.ok) {\n        const classroomsData = await classroomsRes.json();\n        setClassrooms(classroomsData.map((c: any) => ({ id: c.id, name: c.name })));\n        \n        // Generate attendance data from classrooms\n        setAttendanceByClass(classroomsData.slice(0, 5).map((c: any, i: number) => ({\n          id: c.id,\n          name: c.name,\n          rate: 85 + Math.floor(Math.random() * 15),\n          delta: Math.floor(Math.random() * 6) - 3,\n        })));\n      }\n\n      // Fetch students to identify at-risk\n      const studentsRes = await fetch(\"/api/students/\", { credentials: \"include\" });\n      if (studentsRes.ok) {\n        const studentsData = await studentsRes.json();\n        // Simulate at-risk calculation (in production, this would come from backend)\n        const atRisk: AtRiskStudent[] = studentsData.slice(0, 5).map((s: any, i: number) => ({\n          id: s.id,\n          name: s.display_name,\n          classroom: s.classroom_name || \"Sem turma\",\n          avatar: s.animal_id || \"ü¶Å\",\n          risk: i === 0 ? \"Alta\" : i === 1 ? \"M√©dia\" : \"Monitorar\" as RiskLevel,\n          reason: i === 0 ? \"3 faltas nos √∫ltimos 5 dias\" : i === 1 ? \"Pontualidade irregular\" : \"Poucos feedbacks positivos\",\n          flags: i === 0 ? [\"2 atrasos\", \"Sem feedback h√° 10 dias\"] : i === 1 ? [\"1 falta recente\"] : [\"0 feedbacks nesta semana\"],\n        }));\n        setAtRiskStudents(atRisk);\n\n        // Calculate metrics\n        setMetrics({\n          averageAttendance: 92,\n          attendanceTrend: 2,\n          atRiskCount: atRisk.length,\n          newAtRiskCount: 3,\n          positiveFeedbacks: 126,\n          negativeFeedbacks: 18,\n          feedbackTrend: 12,\n        });\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch dashboard data:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchDashboardData();\n  }, [timeWindow]);\n\n  const metricsCards = [\n    {\n      title: \"Frequ√™ncia m√©dia\",\n      value: `${metrics.averageAttendance}%`,\n      subtitle: `√öltimos ${timeWindow === \"7d\" ? \"7\" : timeWindow === \"14d\" ? \"14\" : \"30\"} dias`,\n      trendLabel: `${metrics.attendanceTrend >= 0 ? \"+\" : \"\"}${metrics.attendanceTrend}% vs per√≠odo anterior`,\n      trendDirection: metrics.attendanceTrend >= 0 ? \"up\" : \"down\" as const,\n      accent: \"secondary\" as const,\n      icon: <Activity size={18} />,\n    },\n    {\n      title: \"Alunos em risco\",\n      value: String(metrics.atRiskCount),\n      subtitle: \"Regra: 3+ faltas / 7 dias\",\n      trendLabel: `${metrics.newAtRiskCount} novos nesta semana`,\n      trendDirection: \"flat\" as const,\n      accent: \"accent\" as const,\n      icon: <AlertTriangle size={18} />,\n    },\n    {\n      title: \"Balan√ßo de feedbacks\",\n      value: `+${metrics.positiveFeedbacks - metrics.negativeFeedbacks}`,\n      subtitle: `${metrics.positiveFeedbacks} positivos ¬∑ ${metrics.negativeFeedbacks} negativos`,\n      trendLabel: `${metrics.feedbackTrend >= 0 ? \"+\" : \"\"}${metrics.feedbackTrend}% vs semana passada`,\n      trendDirection: metrics.feedbackTrend >= 0 ? \"up\" : \"down\" as const,\n      accent: \"primary\" as const,\n      icon: <ThumbsUp size={18} />,\n    },\n  ];\n\n  if (isLoading) {\n    return (\n      <div className=\"text-center py-12 text-[var(--text-muted)]\">\n        Carregando painel...\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-wrap items-start justify-between gap-3\">\n        <div>\n          <h2 className=\"text-xl font-bold text-[var(--text)]\">\n            Painel da Coordena√ß√£o\n          </h2>\n          <p className=\"text-[var(--text-muted)] text-sm\">\n            Vis√£o r√°pida de frequ√™ncia, sinais de risco e qualidade de feedback.\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\" onClick={fetchDashboardData}>\n            <RefreshCw size={16} />\n            Atualizar\n          </Button>\n          <Button variant=\"secondary\" size=\"sm\" className=\"gap-2\">\n            <Download size={16} />\n            Exportar CSV\n          </Button>\n        </div>\n      </div>\n\n      {/* Metrics Grid */}\n      <div className=\"grid gap-4 md:grid-cols-3\">\n        {metricsCards.map((metric) => (\n          <MetricCard key={metric.title} {...metric} />\n        ))}\n      </div>\n\n      {/* Time Window Selector */}\n      <GlassPanel className=\"flex flex-wrap items-center gap-3 p-4\">\n        <div className=\"flex items-center gap-2 text-sm font-semibold text-[var(--text-muted)]\">\n          <BarChart3 size={16} />\n          Janela de an√°lise\n        </div>\n        <div className=\"flex gap-2\">\n          {WINDOWS.map((item) => (\n            <Button\n              key={item.value}\n              size=\"sm\"\n              variant={timeWindow === item.value ? \"primary\" : \"ghost\"}\n              onClick={() => setTimeWindow(item.value)}\n            >\n              {item.label}\n            </Button>\n          ))}\n        </div>\n        <div className=\"ml-auto flex flex-wrap items-center gap-2 text-sm\">\n          <span className=\"font-semibold text-[var(--text-muted)]\">Turma</span>\n          <Button\n            size=\"sm\"\n            variant={selectedClassroom === \"todas\" ? \"accent\" : \"ghost\"}\n            onClick={() => setSelectedClassroom(\"todas\")}\n          >\n            Todas\n          </Button>\n          {classrooms.slice(0, 3).map((cls) => (\n            <Button\n              key={cls.id}\n              size=\"sm\"\n              variant={selectedClassroom === cls.id ? \"accent\" : \"ghost\"}\n              onClick={() => setSelectedClassroom(cls.id)}\n            >\n              {cls.name}\n            </Button>\n          ))}\n          <Button size=\"sm\" variant=\"ghost\" className=\"gap-2\">\n            <Filter size={16} />\n            Regras\n          </Button>\n        </div>\n      </GlassPanel>\n\n      {/* At-Risk Students */}\n      <Card className=\"space-y-4 bg-[var(--surface)] shadow-sm\">\n        <div className=\"flex flex-wrap items-center justify-between gap-2\">\n          <div>\n            <h3 className=\"text-lg font-bold text-[var(--text)]\">\n              Alunos com alerta\n            </h3>\n            <p className=\"text-sm text-[var(--text-muted)]\">\n              Sinais baseados em frequ√™ncia, atrasos e feedback.\n            </p>\n          </div>\n          <Button variant=\"ghost\" size=\"sm\" className=\"gap-2\">\n            <ShieldCheck size={16} />\n            Ver auditoria\n          </Button>\n        </div>\n        <div className=\"space-y-3\">\n          {atRiskStudents.length === 0 ? (\n            <p className=\"text-center py-6 text-[var(--text-muted)]\">\n              Nenhum aluno com alerta no momento! üéâ\n            </p>\n          ) : (\n            atRiskStudents.map((student) => (\n              <RiskRow key={student.id} student={student} />\n            ))\n          )}\n        </div>\n      </Card>\n\n      {/* Attendance by Class */}\n      <Card className=\"space-y-4 bg-[var(--surface)] shadow-sm\">\n        <div className=\"flex items-center justify-between\">\n          <h3 className=\"text-lg font-bold\">Frequ√™ncia por turma</h3>\n          <span className=\"text-xs font-semibold text-[var(--text-muted)]\">\n            Atualizado hoje\n          </span>\n        </div>\n        <div className=\"space-y-3\">\n          {attendanceByClass.map((item) => (\n            <div key={item.id} className=\"space-y-1\">\n              <div className=\"flex items-center justify-between text-sm font-semibold\">\n                <span>{item.name}</span>\n                <span className=\"text-[var(--text-muted)]\">{item.rate}%</span>\n              </div>\n              <div className=\"h-3 w-full overflow-hidden rounded-full bg-[var(--surface-glass)] border border-[var(--border)]\">\n                <div\n                  className=\"h-full rounded-full bg-gradient-to-r from-[var(--secondary)] to-[var(--primary)]\"\n                  style={{ width: `${item.rate}%` }}\n                />\n              </div>\n              <p className=\"text-xs text-[var(--text-muted)]\">\n                {item.delta >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(item.delta)} pts vs\n                per√≠odo anterior\n              </p>\n            </div>\n          ))}\n        </div>\n      </Card>\n    </div>\n  );\n}\n\nfunction RiskRow({ student }: { student: AtRiskStudent }) {\n  const badgeStyles: Record<RiskLevel, string> = {\n    Alta: \"bg-red-100 text-red-700 border-red-200\",\n    M√©dia: \"bg-amber-100 text-amber-700 border-amber-200\",\n    Monitorar: \"bg-emerald-100 text-emerald-700 border-emerald-200\",\n  };\n\n  return (\n    <div className=\"flex flex-col gap-3 rounded-[var(--radius-lg)] border border-[var(--border)] bg-[var(--surface-glass)] p-3 md:flex-row md:items-center\">\n      <div className=\"flex items-center gap-3\">\n        <div className=\"flex h-12 w-12 items-center justify-center rounded-full bg-[var(--surface)] text-2xl\">\n          {student.avatar}\n        </div>\n        <div>\n          <p className=\"text-sm font-bold text-[var(--text)]\">{student.name}</p>\n          <p className=\"text-xs font-semibold text-[var(--text-muted)]\">\n            {student.classroom}\n          </p>\n        </div>\n      </div>\n      <div className=\"flex-1 space-y-1\">\n        <p className=\"text-sm font-semibold text-[var(--text)]\">\n          {student.reason}\n        </p>\n        <div className=\"flex flex-wrap gap-2 text-xs text-[var(--text-muted)]\">\n          {student.flags.map((flag) => (\n            <span\n              key={flag}\n              className=\"rounded-full bg-[var(--surface)] px-3 py-1 font-medium\"\n            >\n              {flag}\n            </span>\n          ))}\n        </div>\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <span\n          className={`rounded-full border px-3 py-1 text-xs font-bold ${badgeStyles[student.risk]}`}\n        >\n          {student.risk}\n        </span>\n        <Button variant=\"ghost\" size=\"sm\" className=\"hidden md:inline-flex\">\n          Detalhes\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 938, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/input.tsx"],"sourcesContent":["\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type InputProps = React.InputHTMLAttributes<HTMLInputElement>\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-11 w-full rounded-md border border-[var(--border)] bg-[var(--surface)] px-3 py-2 text-sm ring-offset-[var(--bg)] file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[var(--text-muted)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--primary)] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-[var(--text)] transition-colors\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAIA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,yHAAE,EACX,qaACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 966, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/coordinator/components/turmas-tab.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Search, Users, GraduationCap, TrendingUp } from \"lucide-react\";\n\ninterface Classroom {\n  id: string;\n  name: string;\n  grade_level?: string;\n  student_count: number;\n  teacher_name?: string;\n  attendance_rate?: number;\n}\n\nexport function TurmasTab() {\n  const [classrooms, setClassrooms] = useState<Classroom[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const fetchClassrooms = async () => {\n    setIsLoading(true);\n    try {\n      const res = await fetch(\"/api/classrooms/\", { credentials: \"include\" });\n      if (res.ok) {\n        const data = await res.json();\n        const mapped = data.map((c: any) => ({\n          id: c.id,\n          name: c.name,\n          grade_level: c.grade_level || \"-\",\n          student_count: c.student_count || 0,\n          teacher_name: c.teacher_name || \"Sem professor\",\n          attendance_rate: 80 + Math.floor(Math.random() * 20), // Simulated\n        }));\n        setClassrooms(mapped);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch classrooms:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchClassrooms();\n  }, []);\n\n  const filtered = classrooms.filter(\n    (c) =>\n      c.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      c.teacher_name?.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  if (isLoading) {\n    return (\n      <div className=\"text-center py-12 text-[var(--text-muted)]\">\n        Carregando turmas...\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h2 className=\"text-xl font-bold text-[var(--text)]\">Todas as Turmas</h2>\n          <p className=\"text-sm text-[var(--text-muted)]\">\n            {classrooms.length} turmas cadastradas\n          </p>\n        </div>\n        <div className=\"relative w-full sm:w-72\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-muted)]\" size={18} />\n          <Input\n            placeholder=\"Buscar por turma ou professor...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-10 bg-[var(--surface-glass)]\"\n          />\n        </div>\n      </div>\n\n      {filtered.length === 0 ? (\n        <div className=\"text-center py-12 border-2 border-dashed border-[var(--border)] rounded-xl\">\n          <p className=\"text-[var(--text-muted)]\">\n            {classrooms.length === 0\n              ? \"Nenhuma turma cadastrada\"\n              : \"Nenhuma turma encontrada para essa busca\"}\n          </p>\n        </div>\n      ) : (\n        <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n          {filtered.map((classroom) => (\n            <Card\n              key={classroom.id}\n              className=\"hover:border-[var(--primary)] transition-all duration-200 cursor-pointer hover:-translate-y-1\"\n            >\n              <div className=\"flex items-start justify-between mb-3\">\n                <div>\n                  <h3 className=\"font-bold text-lg text-[var(--text)]\">{classroom.name}</h3>\n                  <span className=\"text-xs font-medium text-[var(--text-muted)] bg-[var(--surface-glass)] px-2 py-1 rounded-md\">\n                    {classroom.grade_level}\n                  </span>\n                </div>\n                <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-[var(--primary)] to-[var(--secondary)] flex items-center justify-center\">\n                  <Users size={18} className=\"text-white\" />\n                </div>\n              </div>\n\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex items-center gap-2 text-[var(--text-muted)]\">\n                  <GraduationCap size={14} />\n                  <span>{classroom.teacher_name}</span>\n                </div>\n                <div className=\"flex items-center gap-2 text-[var(--text-muted)]\">\n                  <Users size={14} />\n                  <span>{classroom.student_count} alunos</span>\n                </div>\n              </div>\n\n              <div className=\"mt-4 pt-3 border-t border-[var(--border)]\">\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span className=\"text-[var(--text-muted)]\">Frequ√™ncia</span>\n                  <span className=\"font-bold text-[var(--secondary)]\">\n                    {classroom.attendance_rate}%\n                  </span>\n                </div>\n                <div className=\"h-2 w-full overflow-hidden rounded-full bg-[var(--surface-glass)] border border-[var(--border)] mt-1\">\n                  <div\n                    className=\"h-full rounded-full bg-gradient-to-r from-[var(--secondary)] to-[var(--primary)]\"\n                    style={{ width: `${classroom.attendance_rate}%` }}\n                  />\n                </div>\n              </div>\n            </Card>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1292, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/coordinator/components/teachers-tab.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { \n  Search, \n  Users, \n  AlertTriangle, \n  TrendingUp, \n  TrendingDown,\n  ThumbsUp,\n  ThumbsDown,\n  BookOpen,\n  ChevronUp,\n  ChevronDown\n} from \"lucide-react\";\n\ninterface TeacherPerformance {\n  id: string;\n  name: string;\n  email: string;\n  classroomCount: number;\n  studentCount: number;\n  averageAttendance: number;\n  positiveFeedbacks: number;\n  negativeFeedbacks: number;\n  gradeEntryRate: number;\n  needsSupport: boolean;\n  supportReason?: string;\n}\n\ntype SortField = \"name\" | \"attendance\" | \"feedbacks\" | \"students\";\ntype SortDirection = \"asc\" | \"desc\";\n\nexport function TeachersTab() {\n  const [teachers, setTeachers] = useState<TeacherPerformance[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [sortField, setSortField] = useState<SortField>(\"name\");\n  const [sortDirection, setSortDirection] = useState<SortDirection>(\"asc\");\n  const [showOnlyNeedsSupport, setShowOnlyNeedsSupport] = useState(false);\n\n  const fetchTeachers = async () => {\n    setIsLoading(true);\n    try {\n      // Fetch classrooms to derive teacher data\n      const res = await fetch(\"/api/classrooms/\", { credentials: \"include\" });\n      if (res.ok) {\n        const classrooms = await res.json();\n        \n        // Aggregate by teacher (simulated - in production would come from backend)\n        const teacherMap = new Map<string, TeacherPerformance>();\n        \n        classrooms.forEach((c: any, index: number) => {\n          const teacherId = c.teacher_id || `teacher-${index}`;\n          const teacherName = c.teacher_name || `Professor ${index + 1}`;\n          \n          if (!teacherMap.has(teacherId)) {\n            const avgAttendance = 70 + Math.floor(Math.random() * 30);\n            const positiveFeedbacks = Math.floor(Math.random() * 50);\n            const negativeFeedbacks = Math.floor(Math.random() * 15);\n            const needsSupport = avgAttendance < 80 || negativeFeedbacks > positiveFeedbacks * 0.3;\n            \n            teacherMap.set(teacherId, {\n              id: teacherId,\n              name: teacherName,\n              email: `${teacherName.toLowerCase().replace(/\\s+/g, \".\")}@escola.com`,\n              classroomCount: 0,\n              studentCount: 0,\n              averageAttendance: avgAttendance,\n              positiveFeedbacks,\n              negativeFeedbacks,\n              gradeEntryRate: 60 + Math.floor(Math.random() * 40),\n              needsSupport,\n              supportReason: needsSupport \n                ? avgAttendance < 80 \n                  ? \"Baixa frequ√™ncia nas turmas\"\n                  : \"Alto √≠ndice de feedbacks negativos\"\n                : undefined,\n            });\n          }\n          \n          const teacher = teacherMap.get(teacherId)!;\n          teacher.classroomCount += 1;\n          teacher.studentCount += c.student_count || 0;\n        });\n        \n        setTeachers(Array.from(teacherMap.values()));\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch teachers:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchTeachers();\n  }, []);\n\n  const handleSort = (field: SortField) => {\n    if (sortField === field) {\n      setSortDirection(sortDirection === \"asc\" ? \"desc\" : \"asc\");\n    } else {\n      setSortField(field);\n      setSortDirection(\"asc\");\n    }\n  };\n\n  const filtered = teachers\n    .filter((t) => \n      t.name.toLowerCase().includes(searchTerm.toLowerCase()) &&\n      (!showOnlyNeedsSupport || t.needsSupport)\n    )\n    .sort((a, b) => {\n      let comparison = 0;\n      switch (sortField) {\n        case \"name\":\n          comparison = a.name.localeCompare(b.name);\n          break;\n        case \"attendance\":\n          comparison = a.averageAttendance - b.averageAttendance;\n          break;\n        case \"feedbacks\":\n          comparison = (a.positiveFeedbacks - a.negativeFeedbacks) - (b.positiveFeedbacks - b.negativeFeedbacks);\n          break;\n        case \"students\":\n          comparison = a.studentCount - b.studentCount;\n          break;\n      }\n      return sortDirection === \"asc\" ? comparison : -comparison;\n    });\n\n  const SortIcon = ({ field }: { field: SortField }) => {\n    if (sortField !== field) return null;\n    return sortDirection === \"asc\" ? <ChevronUp size={14} /> : <ChevronDown size={14} />;\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"text-center py-12 text-[var(--text-muted)]\">\n        Carregando professores...\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h2 className=\"text-xl font-bold text-[var(--text)]\">Desempenho dos Professores</h2>\n          <p className=\"text-sm text-[var(--text-muted)]\">\n            {teachers.length} professores ¬∑ {teachers.filter(t => t.needsSupport).length} precisam de aten√ß√£o\n          </p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button\n            variant={showOnlyNeedsSupport ? \"accent\" : \"ghost\"}\n            size=\"sm\"\n            onClick={() => setShowOnlyNeedsSupport(!showOnlyNeedsSupport)}\n            className=\"gap-2\"\n          >\n            <AlertTriangle size={16} />\n            Precisam de apoio\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"relative w-full sm:w-72\">\n        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-muted)]\" size={18} />\n        <Input\n          placeholder=\"Buscar professor...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"pl-10 bg-[var(--surface-glass)]\"\n        />\n      </div>\n\n      {filtered.length === 0 ? (\n        <div className=\"text-center py-12 border-2 border-dashed border-[var(--border)] rounded-xl\">\n          <p className=\"text-[var(--text-muted)]\">\n            Nenhum professor encontrado\n          </p>\n        </div>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"border-b border-[var(--border)] text-left text-sm text-[var(--text-muted)]\">\n                <th className=\"pb-3 pr-4\">\n                  <button \n                    onClick={() => handleSort(\"name\")} \n                    className=\"flex items-center gap-1 hover:text-[var(--text)]\"\n                  >\n                    Professor <SortIcon field=\"name\" />\n                  </button>\n                </th>\n                <th className=\"pb-3 px-4 text-center\">\n                  <button \n                    onClick={() => handleSort(\"students\")} \n                    className=\"flex items-center gap-1 hover:text-[var(--text)]\"\n                  >\n                    Alunos <SortIcon field=\"students\" />\n                  </button>\n                </th>\n                <th className=\"pb-3 px-4 text-center\">\n                  <button \n                    onClick={() => handleSort(\"attendance\")} \n                    className=\"flex items-center gap-1 hover:text-[var(--text)]\"\n                  >\n                    Frequ√™ncia <SortIcon field=\"attendance\" />\n                  </button>\n                </th>\n                <th className=\"pb-3 px-4 text-center\">\n                  <button \n                    onClick={() => handleSort(\"feedbacks\")} \n                    className=\"flex items-center gap-1 hover:text-[var(--text)]\"\n                  >\n                    Feedbacks <SortIcon field=\"feedbacks\" />\n                  </button>\n                </th>\n                <th className=\"pb-3 px-4 text-center\">Notas</th>\n                <th className=\"pb-3 pl-4\">Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filtered.map((teacher) => (\n                <tr \n                  key={teacher.id} \n                  className=\"border-b border-[var(--border)] hover:bg-[var(--surface-glass)] transition-colors\"\n                >\n                  <td className=\"py-4 pr-4\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-[var(--primary)] to-[var(--accent)] flex items-center justify-center text-white text-sm font-bold\">\n                        {teacher.name.split(\" \").map(n => n[0]).join(\"\").slice(0, 2)}\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-[var(--text)]\">{teacher.name}</p>\n                        <p className=\"text-xs text-[var(--text-muted)]\">\n                          {teacher.classroomCount} turma{teacher.classroomCount !== 1 ? \"s\" : \"\"}\n                        </p>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"py-4 px-4 text-center\">\n                    <div className=\"flex items-center justify-center gap-1\">\n                      <Users size={14} className=\"text-[var(--text-muted)]\" />\n                      <span className=\"font-semibold\">{teacher.studentCount}</span>\n                    </div>\n                  </td>\n                  <td className=\"py-4 px-4 text-center\">\n                    <div className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm font-semibold ${\n                      teacher.averageAttendance >= 90 \n                        ? \"bg-emerald-100 text-emerald-700\"\n                        : teacher.averageAttendance >= 80\n                          ? \"bg-amber-100 text-amber-700\"\n                          : \"bg-red-100 text-red-700\"\n                    }`}>\n                      {teacher.averageAttendance >= 90 ? <TrendingUp size={14} /> : <TrendingDown size={14} />}\n                      {teacher.averageAttendance}%\n                    </div>\n                  </td>\n                  <td className=\"py-4 px-4 text-center\">\n                    <div className=\"flex items-center justify-center gap-2\">\n                      <span className=\"flex items-center gap-1 text-emerald-600\">\n                        <ThumbsUp size={14} /> {teacher.positiveFeedbacks}\n                      </span>\n                      <span className=\"flex items-center gap-1 text-red-500\">\n                        <ThumbsDown size={14} /> {teacher.negativeFeedbacks}\n                      </span>\n                    </div>\n                  </td>\n                  <td className=\"py-4 px-4 text-center\">\n                    <div className=\"flex items-center justify-center gap-1\">\n                      <BookOpen size={14} className=\"text-[var(--text-muted)]\" />\n                      <span className=\"font-semibold\">{teacher.gradeEntryRate}%</span>\n                    </div>\n                  </td>\n                  <td className=\"py-4 pl-4\">\n                    {teacher.needsSupport ? (\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"flex items-center gap-1 px-2 py-1 rounded-full bg-red-100 text-red-700 text-xs font-semibold\">\n                          <AlertTriangle size={12} />\n                          Aten√ß√£o\n                        </span>\n                      </div>\n                    ) : (\n                      <span className=\"px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 text-xs font-semibold\">\n                        OK\n                      </span>\n                    )}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1945, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = ({\n  open,\n  onOpenChange,\n  children,\n}: {\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  children: React.ReactNode;\n}) => {\n  if (!open) return null;\n\n  const handleBackdropClick = (e: React.MouseEvent) => {\n    if (e.target === e.currentTarget) {\n      onOpenChange?.(false);\n    }\n  };\n\n  return (\n    <div \n      className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in-0\"\n      onClick={handleBackdropClick}\n    >\n      {children}\n    </div>\n  );\n}\n\nconst DialogContent = ({\n  className,\n  children,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"relative z-50 grid w-full max-w-lg gap-4 border bg-[var(--surface)] p-6 shadow-lg duration-200 sm:rounded-lg md:w-full\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n  </div>\n)\n\nconst DialogHeader = ({\n  className,\n  children,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n  </div>\n)\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst DialogTitle = ({\n  className,\n  children,\n  ...props\n}: React.HTMLAttributes<HTMLHeadingElement>) => (\n  <h2\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n  </h2>\n)\n\nexport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;AAHA;;;AAKA,MAAM,SAAS,CAAC,EACd,IAAI,EACJ,YAAY,EACZ,QAAQ,EAKT;IACC,IAAI,CAAC,MAAM,OAAO;IAElB,MAAM,sBAAsB,CAAC;QAC3B,IAAI,EAAE,MAAM,KAAK,EAAE,aAAa,EAAE;YAChC,eAAe;QACjB;IACF;IAEA,qBACE,8OAAC;QACC,WAAU;QACV,SAAS;kBAER;;;;;;AAGP;AAEA,MAAM,gBAAgB,CAAC,EACrB,SAAS,EACT,QAAQ,EACR,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,0HACA;QAED,GAAG,KAAK;kBAER;;;;;;AAIL,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,QAAQ,EACR,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,sDACA;QAED,GAAG,KAAK;kBAER;;;;;;AAIL,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAIb,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,QAAQ,EACR,GAAG,OACsC,iBACzC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,qDACA;QAED,GAAG,KAAK;kBAER"}},
    {"offset": {"line": 2019, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/teacher/constants.ts"],"sourcesContent":["export const ANIMAL_EMOJIS = [\n  // Mammals\n  \"ü¶Å\", \"üêØ\", \"üêª\", \"üê®\", \"üêº\", \"üêª‚Äç‚ùÑÔ∏è\", \"üêÆ\", \"üê∑\", \"üê∏\", \"üêµ\", \n  \"üêí\", \"ü¶ç\", \"ü¶ß\", \"üê∂\", \"üê∫\", \"ü¶ä\", \"ü¶ù\", \"üê±\", \"ü¶ì\", \"üê¥\", \n  \"ü¶Ñ\", \"ü¶å\", \"ü¶í\", \"üêò\", \"ü¶è\", \"ü¶õ\", \"üêê\", \"üêè\", \"üêë\", \"üê™\", \n  \"üê´\", \"ü¶ô\", \"ü¶ò\", \"ü¶•\", \"ü¶®\", \"ü¶°\", \"üêÅ\", \"üêÄ\", \"üêπ\", \"üê∞\", \n  \"üêøÔ∏è\", \"ü¶´\", \"ü¶î\", \"ü¶á\", \n  \n  // Birds\n  \"ü¶Ö\", \"ü¶â\", \"ü¶ú\", \"ü¶©\", \"ü¶ö\", \"ü¶É\", \"ü¶Ü\", \"ü¶¢\", \"üïäÔ∏è\", \"üêá\", \n  \"üêì\", \"üêî\", \"üê£\", \"üê•\", \"üê¶\", \"üêß\", \n  \n  // Reptiles & Amphibians\n  \"üêä\", \"üê¢\", \"ü¶é\", \"üêç\", \"üê≤\", \"üêâ\", \"ü¶ï\", \"ü¶ñ\", \n  \n  // Marine\n  \"üê≥\", \"üêã\", \"üê¨\", \"ü¶≠\", \"üêü\", \"üê†\", \"üê°\", \"ü¶à\", \"üêô\", \"üêö\", \n  \"ü¶Ä\", \"ü¶û\", \"ü¶ê\", \"ü¶ë\", \n  \n  // Bugs\n  \"ü¶ã\", \"üêõ\", \"üêú\", \"üêù\", \"ü™≤\", \"üêû\", \"ü¶ó\", \"üï∑Ô∏è\", \"ü¶Ç\", \"ü¶ü\", \n  \"ü™∞\", \"ü™±\", \"ü¶†\"\n];\n"],"names":[],"mappings":";;;;AAAO,MAAM,gBAAgB;IAC3B,UAAU;IACV;IAAM;IAAM;IAAM;IAAM;IAAM;IAAS;IAAM;IAAM;IAAM;IACzD;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACtD;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACtD;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACtD;IAAO;IAAM;IAAM;IAEnB,QAAQ;IACR;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAO;IACvD;IAAM;IAAM;IAAM;IAAM;IAAM;IAE9B,wBAAwB;IACxB;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAE1C,SAAS;IACT;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IACtD;IAAM;IAAM;IAAM;IAElB,OAAO;IACP;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAM;IAAO;IAAM;IACvD;IAAM;IAAM;CACb"}},
    {"offset": {"line": 2129, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/lib/api.ts"],"sourcesContent":["import { getCookie } from \"./utils\";\n\ntype ApiOptions = RequestInit & { csrf?: boolean };\n\nexport async function apiFetch(input: string, options: ApiOptions = {}) {\n  const { csrf = true, headers, ...rest } = options;\n  const init: RequestInit = {\n    credentials: \"include\",\n    ...rest,\n    headers: {\n      ...(headers || {}),\n    },\n  };\n\n  const method = (init.method || \"GET\").toUpperCase();\n  const needsCsrf = csrf && ![\"GET\", \"HEAD\", \"OPTIONS\"].includes(method);\n  if (needsCsrf) {\n    (init.headers as Record<string, string>)[\"X-CSRFToken\"] = getCookie(\"csrftoken\") || \"\";\n    (init.headers as Record<string, string>)[\"Content-Type\"] =\n      (init.headers as Record<string, string>)[\"Content-Type\"] || \"application/json\";\n  }\n\n  return fetch(input, init);\n}\n"],"names":[],"mappings":";;;;AAAA;;AAIO,eAAe,SAAS,KAAa,EAAE,UAAsB,CAAC,CAAC;IACpE,MAAM,EAAE,OAAO,IAAI,EAAE,OAAO,EAAE,GAAG,MAAM,GAAG;IAC1C,MAAM,OAAoB;QACxB,aAAa;QACb,GAAG,IAAI;QACP,SAAS;YACP,GAAI,WAAW,CAAC,CAAC;QACnB;IACF;IAEA,MAAM,SAAS,CAAC,KAAK,MAAM,IAAI,KAAK,EAAE,WAAW;IACjD,MAAM,YAAY,QAAQ,CAAC;QAAC;QAAO;QAAQ;KAAU,CAAC,QAAQ,CAAC;IAC/D,IAAI,WAAW;QACZ,KAAK,OAAO,AAA2B,CAAC,cAAc,GAAG,IAAA,gIAAS,EAAC,gBAAgB;QACnF,KAAK,OAAO,AAA2B,CAAC,eAAe,GACtD,AAAC,KAAK,OAAO,AAA2B,CAAC,eAAe,IAAI;IAChE;IAEA,OAAO,MAAM,OAAO;AACtB"}},
    {"offset": {"line": 2160, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/teacher/components/student-detail-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\n\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { GlassPanel } from \"@/components/ui/glass-panel\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { X, TrendingUp, TrendingDown, MessageSquare, FileText, BarChart3, User, Save, Loader2 } from \"lucide-react\";\nimport { ANIMAL_EMOJIS } from \"@/features/teacher/constants\";\nimport { getCookie } from \"@/lib/utils\";\nimport { apiFetch } from \"@/lib/api\";\n\n// Types\ninterface Student {\n  id: string; // Changed to string (UUID)\n  name: string;\n  avatar: string;\n  class: string;\n  classId?: string; // ID for fetching data\n}\n\ninterface GradeCategory {\n  id: string;\n  name: string;\n  weight: number;\n}\n\ninterface GradeItem {\n  id: string;\n  title: string;\n  max_score: number;\n  category: string; // category ID\n}\n\ninterface GradeEntry {\n  id: string;\n  grade_item: string;\n  score: number;\n}\n\ninterface FeedbackHistoryItem {\n  id: string;\n  type: \"positive\" | \"improvement\";\n  label: string;\n  icon: string;\n  points: number;\n  date: string; // ISO string\n  note?: string;\n}\n\ninterface StudentDetailModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  student: Student | null;\n  onUpdate?: (updates: { animal_id?: string }) => void;\n}\n\n// Mock data\n// ... (rest of mock data remains the same, assuming it's stable)\n\n// Mock data\n// ... (rest of mock data remains the same, assuming it's stable)\n\n\n\nconst MOCK_NOTES = [\n  { id: \"1\", date: \"19/01/2026\", content: \"Demonstrou grande interesse na atividade de ci√™ncias.\" },\n  { id: \"2\", date: \"15/01/2026\", content: \"Reuni√£o com os pais marcada para pr√≥xima semana.\" },\n];\n\ntype TabKey = \"overview\" | \"grades\" | \"feedback\" | \"notes\";\n\nexport function StudentDetailModal({ isOpen, onClose, student, onUpdate }: StudentDetailModalProps) {\n  const [activeTab, setActiveTab] = useState<TabKey>(\"overview\");\n  const [isEmojiPickerOpen, setIsEmojiPickerOpen] = useState(false);\n\n  // Gradebook State\n  const [categories, setCategories] = useState<GradeCategory[]>([]);\n  const [items, setItems] = useState<GradeItem[]>([]);\n  const [entries, setEntries] = useState<Record<string, number>>({}); // itemId -> score\n  const [isLoadingGrades, setIsLoadingGrades] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n\n  // Feedback State\n  const [feedbackHistory, setFeedbackHistory] = useState<FeedbackHistoryItem[]>([]);\n  const [isLoadingFeedback, setIsLoadingFeedback] = useState(false);\n  \n  // Feedback total points calculated from history\n  const totalPoints = feedbackHistory.reduce((sum, f) => sum + f.points, 0);\n\n  // Fetch feedback\n  const fetchFeedback = useCallback(async () => {\n    if (!student?.id) return;\n    setIsLoadingFeedback(true);\n    try {\n        const res = await apiFetch(`/api/feedback?student_id=${student.id}`);\n        if (res.ok) {\n            const data = await res.json();\n            // Map API data to UI format\n            const mapped = data.map((f: any) => ({\n                id: f.id,\n                type: f.type,\n                label: f.label,\n                icon: f.icon,\n                points: f.points,\n                date: new Date(f.created_at).toLocaleDateString('pt-BR'),\n                note: f.note\n            }));\n            setFeedbackHistory(mapped);\n        }\n    } catch (error) {\n        console.error(\"Failed to fetch feedback:\", error);\n    } finally {\n        setIsLoadingFeedback(false);\n    }\n  }, [student?.id]);\n\n  useEffect(() => {\n     if (isOpen && student?.id) {\n         fetchFeedback();\n     }\n  }, [isOpen, student?.id, fetchFeedback]);\n\n  const handleDeleteFeedback = async (id: string) => {\n      if (!confirm(\"Tem certeza que deseja excluir este feedback?\")) return;\n      try {\n          const res = await apiFetch(`/api/feedback/${id}`, {\n              method: \"DELETE\",\n              headers: { \"X-CSRFToken\": getCookie(\"csrftoken\") || \"\" }\n          });\n          if (res.ok) {\n              setFeedbackHistory(prev => prev.filter(f => f.id !== id));\n          } else {\n              alert(\"Erro ao excluir feedback\");\n          }\n      } catch (e) {\n          console.error(\"Error deleting feedback\", e);\n      }\n  };\n\n  // Simple edit: for now just allow deleting to correct mistakes, or maybe prompt for new note?\n  // The user asked for \"edit/delete\". Let's implemented a simple prompt for note update to verify \"Edit\".\n  const handleEditNote = async (item: FeedbackHistoryItem) => {\n      const newNote = prompt(\"Editar anota√ß√£o:\", item.note || \"\");\n      if (newNote === null) return; // Cancelled\n      \n      try {\n          const res = await apiFetch(`/api/feedback/${item.id}`, {\n              method: \"PATCH\",\n              headers: { \n                  \"Content-Type\": \"application/json\",\n                  \"X-CSRFToken\": getCookie(\"csrftoken\") || \"\" \n              },\n              body: JSON.stringify({ note: newNote })\n          });\n          if (res.ok) {\n              setFeedbackHistory(prev => prev.map(f => f.id === item.id ? { ...f, note: newNote } : f));\n          } else {\n              alert(\"Erro ao editar feedback\");\n          }\n      } catch (e) {\n          console.error(\"Error editing feedback\", e);\n      }\n  };\n\n\n  // Fetch grades when tab is active and we have student/class data\n  const fetchGrades = useCallback(async () => {\n    if (!student?.classId || !student?.id) return;\n    \n    setIsLoadingGrades(true);\n    try {\n      const [catsRes, itemsRes, entriesRes] = await Promise.all([\n        apiFetch(`/api/grades/categories?classroom_id=${student.classId}`),\n        apiFetch(`/api/grades/items?classroom_id=${student.classId}`),\n        apiFetch(`/api/grades/entries?student_id=${student.id}`)\n      ]);\n\n      if (catsRes.ok && itemsRes.ok && entriesRes.ok) {\n        const catsData = await catsRes.json();\n        const itemsData = await itemsRes.json();\n        const entriesData = await entriesRes.json();\n\n        setCategories(catsData);\n        setItems(itemsData);\n        \n        // Map entries to manageable state\n        const entriesMap: Record<string, number> = {};\n        entriesData.forEach((e: GradeEntry) => {\n          entriesMap[e.grade_item] = parseFloat(e.score.toString());\n        });\n        setEntries(entriesMap);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch grades:\", error);\n    } finally {\n      setIsLoadingGrades(false);\n    }\n  }, [student?.classId, student?.id]);\n\n  useEffect(() => {\n    if (activeTab === \"grades\" && student?.classId && student?.id) {\n       fetchGrades();\n    }\n  }, [activeTab, student, fetchGrades]);\n\n  const handleSaveGrades = async () => {\n    if (!student?.id) return;\n    setIsSaving(true);\n    \n    try {\n      // Prepare payload\n      const payload = Object.entries(entries).map(([itemId, score]) => ({\n        student: student.id,\n        grade_item: itemId,\n        score: score\n      }));\n\n      const res = await apiFetch(\"/api/grades/entries/bulk_update_grades\", {\n        method: \"POST\",\n        headers: { \n            \"Content-Type\": \"application/json\",\n            \"X-CSRFToken\": getCookie(\"csrftoken\") || \"\" // Need a way to get CSRF\n        },\n        body: JSON.stringify(payload)\n      }); \n\n      if (!res.ok) {\n        const message = await res.text();\n        throw new Error(message || \"Failed to save grades\");\n      }\n      \n      // Optionally show success toast\n    } catch (error) {\n        console.error(\"Error saving grades:\", error);\n    } finally {\n        setIsSaving(false);\n    }\n  };\n\n\n  if (!student) return null;\n\n  if (!student) return null;\n\n  // Total points now calculated in state definition\n\n  // const overallGradeAverage = MOCK_GRADES.reduce((sum, g) => sum + g.average, 0) / MOCK_GRADES.length; \n  // Calculate real average? For now, leave it or calculate from real entries if possible.\n  // Let's placeholder it\n  const overallGradeAverage = 0;\n\n  const tabs: { key: TabKey; label: string; icon: React.ReactNode }[] = [\n    { key: \"overview\", label: \"Geral\", icon: <User size={16} /> },\n    { key: \"grades\", label: \"Notas\", icon: <BarChart3 size={16} /> },\n    { key: \"feedback\", label: \"Feedback\", icon: <MessageSquare size={16} /> },\n    { key: \"notes\", label: \"Anota√ß√µes\", icon: <FileText size={16} /> },\n  ];\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-lg max-h-[85vh] overflow-hidden flex flex-col bg-[var(--surface)] border-[var(--border)] sm:rounded-[var(--radius-lg)]\">\n        {/* Close Button */}\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 p-1 rounded-full hover:bg-[var(--bg)] transition-colors z-10\"\n        >\n          <X size={20} className=\"text-[var(--text-muted)]\" />\n        </button>\n\n        {/* Header */}\n        <DialogHeader className=\"pb-2 relative\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"relative\">\n                <button \n                  onClick={() => setIsEmojiPickerOpen(!isEmojiPickerOpen)}\n                  className=\"text-5xl filter drop-shadow-md hover:scale-110 transition-transform cursor-pointer outline-none focus:scale-110\"\n                  aria-label=\"Alterar emoji\"\n                >\n                    {student.avatar}\n                </button>\n                \n                {/* Emoji Picker Popover */}\n                {isEmojiPickerOpen && (\n                    <>\n                        <div \n                            className=\"fixed inset-0 z-10\" \n                            onClick={() => setIsEmojiPickerOpen(false)} \n                        />\n<div className=\"absolute top-full left-0 mt-2 p-2 bg-[var(--surface)] border border-[var(--border)] rounded-xl shadow-xl z-20 grid grid-cols-5 gap-1 w-[280px] max-h-[300px] overflow-y-auto animate-in fade-in zoom-in-95 data-[side=bottom]:slide-in-from-top-2\">\n                             {ANIMAL_EMOJIS.map(emoji => (\n                                 <button\n                                    key={emoji}\n                                    onClick={() => {\n                                        onUpdate?.({ animal_id: emoji });\n                                        setIsEmojiPickerOpen(false);\n                                    }}\n                                    className=\"text-2xl p-2 hover:bg-[var(--bg)] rounded-lg transition-colors\"\n                                 >\n                                    {emoji}\n                                 </button>\n                             ))}\n                        </div>\n                    </>\n                )}\n            </div>\n            <div>\n              <DialogTitle className=\"text-xl\">{student.name}</DialogTitle>\n              <p className=\"text-sm text-[var(--text-muted)]\">{student.class}</p>\n            </div>\n          </div>\n        </DialogHeader>\n\n        {/* Tabs */}\n        <div className=\"flex p-1 bg-[var(--bg)] rounded-full border border-[var(--border)] mb-4\">\n          {tabs.map((tab) => (\n            <button\n              key={tab.key}\n              className={`flex-1 flex items-center justify-center gap-1.5 py-2 text-xs font-medium rounded-full transition-all ${\n                activeTab === tab.key\n                  ? \"bg-[var(--primary)] text-white shadow-sm\"\n                  : \"text-[var(--text-muted)] hover:text-[var(--text)]\"\n              }`}\n              onClick={() => setActiveTab(tab.key)}\n            >\n              {tab.icon}\n              <span className=\"hidden sm:inline\">{tab.label}</span>\n            </button>\n          ))}\n        </div>\n\n        {/* Tab Content */}\n        <div className=\"flex-1 overflow-y-auto p-1\">\n          {/* Overview Tab */}\n          {activeTab === \"overview\" && (\n            <div className=\"space-y-4 animate-in fade-in slide-in-from-right-2\">\n              <div className=\"grid grid-cols-2 gap-3\">\n                <GlassPanel className=\"p-4 flex flex-col gap-1\">\n                  <span className=\"text-xs font-bold uppercase text-[var(--text-muted)]\">Pontos</span>\n                  <span className={`text-2xl font-bold ${totalPoints >= 0 ? \"text-[var(--secondary)]\" : \"text-[var(--accent)]\"}`}>\n                    {totalPoints > 0 ? \"+\" : \"\"}{totalPoints}\n                  </span>\n                </GlassPanel>\n                <GlassPanel className=\"p-4 flex flex-col gap-1\">\n                  <span className=\"text-xs font-bold uppercase text-[var(--text-muted)]\">M√©dia Geral</span>\n                  <span className=\"text-2xl font-bold text-[var(--primary)]\">{overallGradeAverage.toFixed(1)}</span>\n                </GlassPanel>\n              </div>\n              <GlassPanel className=\"p-4 flex flex-col gap-1\">\n                <span className=\"text-xs font-bold uppercase text-[var(--text-muted)]\">Frequ√™ncia</span>\n                <div className=\"flex items-center gap-3\">\n                  <span className=\"text-2xl font-bold text-[var(--secondary)]\">92%</span>\n                  <div className=\"flex-1 h-2 bg-[var(--bg)] rounded-full overflow-hidden\">\n                    <div className=\"h-full bg-[var(--secondary)] rounded-full\" style={{ width: \"92%\" }} />\n                  </div>\n                </div>\n              </GlassPanel>\n              <GlassPanel className=\"p-4 flex flex-col gap-2\">\n                  <span className=\"text-xs font-bold uppercase text-[var(--text-muted)]\">√öltimos Feedbacks</span>\n                <div className=\"flex gap-2\">\n                  {feedbackHistory.slice(0, 4).map((f) => (\n                    <div\n                      key={f.id}\n                      className={`flex items-center justify-center w-10 h-10 rounded-full text-lg ${\n                        f.type === \"positive\" ? \"bg-[var(--green-50)]\" : \"bg-[var(--orange-50)]\"\n                      }`}\n                      title={`${f.label} (${f.points})`}\n                    >\n                      {f.icon}\n                    </div>\n                  ))}\n                  {feedbackHistory.length === 0 && <span className=\"text-sm text-[var(--text-muted)]\">Nenhum feedback.</span>}\n                </div>\n              </GlassPanel>\n            </div>\n          )}\n\n          {/* Grades Tab */}\n          {activeTab === \"grades\" && (\n            <div className=\"space-y-4 animate-in fade-in slide-in-from-right-2 h-full flex flex-col\">\n               <div className=\"flex justify-between items-center px-1\">\n                  <h3 className=\"text-sm font-medium text-[var(--text-muted)]\">Boletim Escolar</h3>\n                  <Button \n                    size=\"sm\" \n                    onClick={handleSaveGrades}\n                    disabled={isSaving}\n                    className=\"gap-2\"\n                  >\n                    {isSaving ? <Loader2 size={16} className=\"animate-spin\" /> : <Save size={16} />}\n                    Salvar Notas\n                  </Button>\n               </div>\n\n               {isLoadingGrades ? (\n                   <div className=\"flex justify-center py-12\">\n                       <Loader2 className=\"animate-spin text-[var(--primary)]\" />\n                   </div>\n               ) : categories.length === 0 ? (\n                  <div className=\"text-center py-8 text-[var(--text-muted)] border-2 border-dashed border-[var(--border)] rounded-xl\">\n                    <BarChart3 size={32} className=\"mx-auto mb-2 opacity-50\" />\n                    <p className=\"text-sm\">Nenhuma categoria de nota configurada para esta turma.</p>\n                  </div>\n               ) : (\n                   <div className=\"space-y-6 pb-4\">\n                       {categories.map(cat => {\n                           const catItems = items.filter(i => i.category === cat.id);\n                           if (catItems.length === 0) return null;\n\n                           return (\n                               <div key={cat.id} className=\"space-y-2\">\n                                   <h4 className=\"text-xs font-bold uppercase text-[var(--text-muted)] tracking-wider ml-1\">\n                                       {cat.name} {cat.weight ? `(${cat.weight}%)` : ''}\n                                   </h4>\n                                   <GlassPanel className=\"p-1 overflow-hidden divide-y divide-[var(--border)]\">\n                                       {catItems.map(item => (\n                                           <div key={item.id} className=\"flex items-center justify-between p-3 hover:bg-[var(--bg)] transition-colors\">\n                                               <div className=\"flex flex-col\">\n                                                   <span className=\"font-medium text-sm\">{item.title}</span>\n                                                   <span className=\"text-xs text-[var(--text-muted)]\">M√°x: {item.max_score}</span>\n                                               </div>\n                                               <div className=\"flex items-center gap-2\">\n                                                   <Input \n                                                       type=\"number\" \n                                                       min=\"0\"\n                                                       max={item.max_score}\n                                                       step=\"0.1\"\n                                                       className=\"w-20 text-right h-9 bg-[var(--surface)]\"\n                                                       value={entries[item.id] !== undefined ? entries[item.id] : ''}\n                                                       onChange={(e) => {\n                                                           const val = e.target.value === '' ? undefined : parseFloat(e.target.value);\n                                                           if (val !== undefined && (val < 0 || val > item.max_score)) return; // Simple validation\n                                                           \n                                                           if (val !== undefined) {\n                                                               setEntries(prev => ({ ...prev, [item.id]: val }));\n                                                           } else {\n                                                               const newEntries = { ...entries };\n                                                               delete newEntries[item.id];\n                                                               setEntries(newEntries);\n                                                           }\n                                                       }}\n                                                   />\n                                               </div>\n                                           </div>\n                                       ))}\n                                   </GlassPanel>\n                               </div>\n                           );\n                       })}\n                   </div>\n               )}\n            </div>\n          )}\n\n          {/* Feedback Tab */}\n          {activeTab === \"feedback\" && (\n            <div className=\"space-y-3 animate-in fade-in slide-in-from-right-2\">\n            <div className=\"space-y-3 animate-in fade-in slide-in-from-right-2\">\n              {feedbackHistory.map((feedback) => (\n                <GlassPanel\n                  key={feedback.id}\n                  className={`p-3 flex items-start gap-3 border-l-4 group relative ${\n                    feedback.type === \"positive\"\n                      ? \"border-l-[var(--secondary)] bg-[var(--green-50)]\"\n                      : \"border-l-[var(--accent)] bg-[var(--orange-50)]\"\n                  }`}\n                >\n                  <div className=\"text-2xl\">{feedback.icon}</div>\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center justify-between gap-2\">\n                      <span className=\"font-medium text-sm\">{feedback.label}</span>\n                      <span\n                        className={`text-xs font-bold px-2 py-0.5 rounded-full ${\n                          feedback.type === \"positive\"\n                            ? \"bg-[var(--green-100)] text-[var(--green-700)]\"\n                            : \"bg-[var(--orange-100)] text-[var(--orange-700)]\"\n                        }`}\n                      >\n                        {feedback.points > 0 ? \"+\" : \"\"}{feedback.points}\n                      </span>\n                    </div>\n                    {feedback.note && (\n                      <p className=\"text-xs text-[var(--text-muted)] mt-1\">{feedback.note}</p>\n                    )}\n                    <p className=\"text-xs text-[var(--text-muted)] mt-1\">{feedback.date}</p>\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity absolute right-2 top-2 bg-white/50 rounded-md p-1 shadow-sm backdrop-blur-sm\">\n                      <button \n                        onClick={() => handleEditNote(feedback)}\n                        className=\"p-1 hover:bg-black/10 rounded\" \n                        title=\"Editar anota√ß√£o\"\n                      >\n                         <FileText size={14} className=\"text-[var(--text-secondary)]\" />\n                      </button>\n                      <button \n                        onClick={() => handleDeleteFeedback(feedback.id)}\n                        className=\"p-1 hover:bg-red-100 rounded text-red-600\"\n                        title=\"Excluir\"\n                      >\n                         <X size={14} />\n                      </button>\n                  </div>\n                </GlassPanel>\n              ))}\n              {feedbackHistory.length === 0 && (\n                  <div className=\"text-center py-8 text-[var(--text-muted)]\">\n                    <MessageSquare size={32} className=\"mx-auto mb-2 opacity-50\" />\n                    <p className=\"text-sm\">Nenhum feedback registrado.</p>\n                  </div>\n              )}\n            </div>\n            </div>\n          )}\n\n          {/* Notes Tab */}\n          {activeTab === \"notes\" && (\n            <div className=\"space-y-3 animate-in fade-in slide-in-from-right-2\">\n              {MOCK_NOTES.map((note) => (\n                <GlassPanel key={note.id} className=\"p-4\">\n                  <p className=\"text-xs text-[var(--text-muted)] mb-1\">{note.date}</p>\n                  <p className=\"text-sm\">{note.content}</p>\n                </GlassPanel>\n              ))}\n              {MOCK_NOTES.length === 0 && (\n                <div className=\"text-center py-8 text-[var(--text-muted)]\">\n                  <FileText size={32} className=\"mx-auto mb-2 opacity-50\" />\n                  <p className=\"text-sm\">Nenhuma anota√ß√£o ainda</p>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAXA;;;;;;;;;;;AA0DA,YAAY;AACZ,iEAAiE;AAEjE,YAAY;AACZ,iEAAiE;AAIjE,MAAM,aAAa;IACjB;QAAE,IAAI;QAAK,MAAM;QAAc,SAAS;IAAwD;IAChG;QAAE,IAAI;QAAK,MAAM;QAAc,SAAS;IAAmD;CAC5F;AAIM,SAAS,mBAAmB,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAA2B;IAChG,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAS;IACnD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAE3D,kBAAkB;IAClB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAkB,EAAE;IAChE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAc,EAAE;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAyB,CAAC,IAAI,kBAAkB;IACtF,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,iBAAiB;IACjB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAwB,EAAE;IAChF,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAE3D,gDAAgD;IAChD,MAAM,cAAc,gBAAgB,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,MAAM,EAAE;IAEvE,iBAAiB;IACjB,MAAM,gBAAgB,IAAA,oNAAW,EAAC;QAChC,IAAI,CAAC,SAAS,IAAI;QAClB,qBAAqB;QACrB,IAAI;YACA,MAAM,MAAM,MAAM,IAAA,6HAAQ,EAAC,CAAC,yBAAyB,EAAE,QAAQ,EAAE,EAAE;YACnE,IAAI,IAAI,EAAE,EAAE;gBACR,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,4BAA4B;gBAC5B,MAAM,SAAS,KAAK,GAAG,CAAC,CAAC,IAAW,CAAC;wBACjC,IAAI,EAAE,EAAE;wBACR,MAAM,EAAE,IAAI;wBACZ,OAAO,EAAE,KAAK;wBACd,MAAM,EAAE,IAAI;wBACZ,QAAQ,EAAE,MAAM;wBAChB,MAAM,IAAI,KAAK,EAAE,UAAU,EAAE,kBAAkB,CAAC;wBAChD,MAAM,EAAE,IAAI;oBAChB,CAAC;gBACD,mBAAmB;YACvB;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,6BAA6B;QAC/C,SAAU;YACN,qBAAqB;QACzB;IACF,GAAG;QAAC,SAAS;KAAG;IAEhB,IAAA,kNAAS,EAAC;QACP,IAAI,UAAU,SAAS,IAAI;YACvB;QACJ;IACH,GAAG;QAAC;QAAQ,SAAS;QAAI;KAAc;IAEvC,MAAM,uBAAuB,OAAO;QAChC,IAAI,CAAC,QAAQ,kDAAkD;QAC/D,IAAI;YACA,MAAM,MAAM,MAAM,IAAA,6HAAQ,EAAC,CAAC,cAAc,EAAE,IAAI,EAAE;gBAC9C,QAAQ;gBACR,SAAS;oBAAE,eAAe,IAAA,gIAAS,EAAC,gBAAgB;gBAAG;YAC3D;YACA,IAAI,IAAI,EAAE,EAAE;gBACR,mBAAmB,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YACzD,OAAO;gBACH,MAAM;YACV;QACJ,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC,2BAA2B;QAC7C;IACJ;IAEA,8FAA8F;IAC9F,wGAAwG;IACxG,MAAM,iBAAiB,OAAO;QAC1B,MAAM,UAAU,OAAO,oBAAoB,KAAK,IAAI,IAAI;QACxD,IAAI,YAAY,MAAM,QAAQ,YAAY;QAE1C,IAAI;YACA,MAAM,MAAM,MAAM,IAAA,6HAAQ,EAAC,CAAC,cAAc,EAAE,KAAK,EAAE,EAAE,EAAE;gBACnD,QAAQ;gBACR,SAAS;oBACL,gBAAgB;oBAChB,eAAe,IAAA,gIAAS,EAAC,gBAAgB;gBAC7C;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE,MAAM;gBAAQ;YACzC;YACA,IAAI,IAAI,EAAE,EAAE;gBACR,mBAAmB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,KAAK,EAAE,GAAG;4BAAE,GAAG,CAAC;4BAAE,MAAM;wBAAQ,IAAI;YAC1F,OAAO;gBACH,MAAM;YACV;QACJ,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC,0BAA0B;QAC5C;IACJ;IAGA,iEAAiE;IACjE,MAAM,cAAc,IAAA,oNAAW,EAAC;QAC9B,IAAI,CAAC,SAAS,WAAW,CAAC,SAAS,IAAI;QAEvC,mBAAmB;QACnB,IAAI;YACF,MAAM,CAAC,SAAS,UAAU,WAAW,GAAG,MAAM,QAAQ,GAAG,CAAC;gBACxD,IAAA,6HAAQ,EAAC,CAAC,oCAAoC,EAAE,QAAQ,OAAO,EAAE;gBACjE,IAAA,6HAAQ,EAAC,CAAC,+BAA+B,EAAE,QAAQ,OAAO,EAAE;gBAC5D,IAAA,6HAAQ,EAAC,CAAC,+BAA+B,EAAE,QAAQ,EAAE,EAAE;aACxD;YAED,IAAI,QAAQ,EAAE,IAAI,SAAS,EAAE,IAAI,WAAW,EAAE,EAAE;gBAC9C,MAAM,WAAW,MAAM,QAAQ,IAAI;gBACnC,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,cAAc,MAAM,WAAW,IAAI;gBAEzC,cAAc;gBACd,SAAS;gBAET,kCAAkC;gBAClC,MAAM,aAAqC,CAAC;gBAC5C,YAAY,OAAO,CAAC,CAAC;oBACnB,UAAU,CAAC,EAAE,UAAU,CAAC,GAAG,WAAW,EAAE,KAAK,CAAC,QAAQ;gBACxD;gBACA,WAAW;YACb;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;QAC3C,SAAU;YACR,mBAAmB;QACrB;IACF,GAAG;QAAC,SAAS;QAAS,SAAS;KAAG;IAElC,IAAA,kNAAS,EAAC;QACR,IAAI,cAAc,YAAY,SAAS,WAAW,SAAS,IAAI;YAC5D;QACH;IACF,GAAG;QAAC;QAAW;QAAS;KAAY;IAEpC,MAAM,mBAAmB;QACvB,IAAI,CAAC,SAAS,IAAI;QAClB,YAAY;QAEZ,IAAI;YACF,kBAAkB;YAClB,MAAM,UAAU,OAAO,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,QAAQ,MAAM,GAAK,CAAC;oBAChE,SAAS,QAAQ,EAAE;oBACnB,YAAY;oBACZ,OAAO;gBACT,CAAC;YAED,MAAM,MAAM,MAAM,IAAA,6HAAQ,EAAC,0CAA0C;gBACnE,QAAQ;gBACR,SAAS;oBACL,gBAAgB;oBAChB,eAAe,IAAA,gIAAS,EAAC,gBAAgB,GAAG,yBAAyB;gBACzE;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,UAAU,MAAM,IAAI,IAAI;gBAC9B,MAAM,IAAI,MAAM,WAAW;YAC7B;QAEA,gCAAgC;QAClC,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,wBAAwB;QAC1C,SAAU;YACN,YAAY;QAChB;IACF;IAGA,IAAI,CAAC,SAAS,OAAO;IAErB,IAAI,CAAC,SAAS,OAAO;IAErB,kDAAkD;IAElD,wGAAwG;IACxG,wFAAwF;IACxF,uBAAuB;IACvB,MAAM,sBAAsB;IAE5B,MAAM,OAAgE;QACpE;YAAE,KAAK;YAAY,OAAO;YAAS,oBAAM,8OAAC,0MAAI;gBAAC,MAAM;;;;;;QAAO;QAC5D;YAAE,KAAK;YAAU,OAAO;YAAS,oBAAM,8OAAC,+NAAS;gBAAC,MAAM;;;;;;QAAO;QAC/D;YAAE,KAAK;YAAY,OAAO;YAAY,oBAAM,8OAAC,yOAAa;gBAAC,MAAM;;;;;;QAAO;QACxE;YAAE,KAAK;YAAS,OAAO;YAAa,oBAAM,8OAAC,0NAAQ;gBAAC,MAAM;;;;;;QAAO;KAClE;IAED,qBACE,8OAAC,4IAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,8OAAC,mJAAa;YAAC,WAAU;;8BAEvB,8OAAC;oBACC,SAAS;oBACT,WAAU;8BAEV,cAAA,8OAAC,iMAAC;wBAAC,MAAM;wBAAI,WAAU;;;;;;;;;;;8BAIzB,8OAAC,kJAAY;oBAAC,WAAU;8BACtB,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCACC,SAAS,IAAM,qBAAqB,CAAC;wCACrC,WAAU;wCACV,cAAW;kDAER,QAAQ,MAAM;;;;;;oCAIlB,mCACG;;0DACI,8OAAC;gDACG,WAAU;gDACV,SAAS,IAAM,qBAAqB;;;;;;0DAEhE,8OAAC;gDAAI,WAAU;0DACe,wJAAa,CAAC,GAAG,CAAC,CAAA,sBACf,8OAAC;wDAEE,SAAS;4DACL,WAAW;gEAAE,WAAW;4DAAM;4DAC9B,qBAAqB;wDACzB;wDACA,WAAU;kEAET;uDAPI;;;;;;;;;;;;;;;;;;0CAc7B,8OAAC;;kDACC,8OAAC,iJAAW;wCAAC,WAAU;kDAAW,QAAQ,IAAI;;;;;;kDAC9C,8OAAC;wCAAE,WAAU;kDAAoC,QAAQ,KAAK;;;;;;;;;;;;;;;;;;;;;;;8BAMpE,8OAAC;oBAAI,WAAU;8BACZ,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC;4BAEC,WAAW,CAAC,qGAAqG,EAC/G,cAAc,IAAI,GAAG,GACjB,6CACA,qDACJ;4BACF,SAAS,IAAM,aAAa,IAAI,GAAG;;gCAElC,IAAI,IAAI;8CACT,8OAAC;oCAAK,WAAU;8CAAoB,IAAI,KAAK;;;;;;;2BATxC,IAAI,GAAG;;;;;;;;;;8BAelB,8OAAC;oBAAI,WAAU;;wBAEZ,cAAc,4BACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,wJAAU;4CAAC,WAAU;;8DACpB,8OAAC;oDAAK,WAAU;8DAAuD;;;;;;8DACvE,8OAAC;oDAAK,WAAW,CAAC,mBAAmB,EAAE,eAAe,IAAI,4BAA4B,wBAAwB;;wDAC3G,cAAc,IAAI,MAAM;wDAAI;;;;;;;;;;;;;sDAGjC,8OAAC,wJAAU;4CAAC,WAAU;;8DACpB,8OAAC;oDAAK,WAAU;8DAAuD;;;;;;8DACvE,8OAAC;oDAAK,WAAU;8DAA4C,oBAAoB,OAAO,CAAC;;;;;;;;;;;;;;;;;;8CAG5F,8OAAC,wJAAU;oCAAC,WAAU;;sDACpB,8OAAC;4CAAK,WAAU;sDAAuD;;;;;;sDACvE,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,WAAU;8DAA6C;;;;;;8DAC7D,8OAAC;oDAAI,WAAU;8DACb,cAAA,8OAAC;wDAAI,WAAU;wDAA4C,OAAO;4DAAE,OAAO;wDAAM;;;;;;;;;;;;;;;;;;;;;;;8CAIvF,8OAAC,wJAAU;oCAAC,WAAU;;sDAClB,8OAAC;4CAAK,WAAU;sDAAuD;;;;;;sDACzE,8OAAC;4CAAI,WAAU;;gDACZ,gBAAgB,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,kBAChC,8OAAC;wDAEC,WAAW,CAAC,gEAAgE,EAC1E,EAAE,IAAI,KAAK,aAAa,yBAAyB,yBACjD;wDACF,OAAO,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC;kEAEhC,EAAE,IAAI;uDANF,EAAE,EAAE;;;;;gDASZ,gBAAgB,MAAM,KAAK,mBAAK,8OAAC;oDAAK,WAAU;8DAAmC;;;;;;;;;;;;;;;;;;;;;;;;wBAO3F,cAAc,0BACb,8OAAC;4BAAI,WAAU;;8CACZ,8OAAC;oCAAI,WAAU;;sDACZ,8OAAC;4CAAG,WAAU;sDAA+C;;;;;;sDAC7D,8OAAC,4IAAM;4CACL,MAAK;4CACL,SAAS;4CACT,UAAU;4CACV,WAAU;;gDAET,yBAAW,8OAAC,4NAAO;oDAAC,MAAM;oDAAI,WAAU;;;;;yEAAoB,8OAAC,0MAAI;oDAAC,MAAM;;;;;;gDAAO;;;;;;;;;;;;;gCAKpF,gCACG,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC,4NAAO;wCAAC,WAAU;;;;;;;;;;2CAEvB,WAAW,MAAM,KAAK,kBACvB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,+NAAS;4CAAC,MAAM;4CAAI,WAAU;;;;;;sDAC/B,8OAAC;4CAAE,WAAU;sDAAU;;;;;;;;;;;yDAGxB,8OAAC;oCAAI,WAAU;8CACV,WAAW,GAAG,CAAC,CAAA;wCACZ,MAAM,WAAW,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,IAAI,EAAE;wCACxD,IAAI,SAAS,MAAM,KAAK,GAAG,OAAO;wCAElC,qBACI,8OAAC;4CAAiB,WAAU;;8DACxB,8OAAC;oDAAG,WAAU;;wDACT,IAAI,IAAI;wDAAC;wDAAE,IAAI,MAAM,GAAG,CAAC,CAAC,EAAE,IAAI,MAAM,CAAC,EAAE,CAAC,GAAG;;;;;;;8DAElD,8OAAC,wJAAU;oDAAC,WAAU;8DACjB,SAAS,GAAG,CAAC,CAAA,qBACV,8OAAC;4DAAkB,WAAU;;8EACzB,8OAAC;oEAAI,WAAU;;sFACX,8OAAC;4EAAK,WAAU;sFAAuB,KAAK,KAAK;;;;;;sFACjD,8OAAC;4EAAK,WAAU;;gFAAmC;gFAAM,KAAK,SAAS;;;;;;;;;;;;;8EAE3E,8OAAC;oEAAI,WAAU;8EACX,cAAA,8OAAC,0IAAK;wEACF,MAAK;wEACL,KAAI;wEACJ,KAAK,KAAK,SAAS;wEACnB,MAAK;wEACL,WAAU;wEACV,OAAO,OAAO,CAAC,KAAK,EAAE,CAAC,KAAK,YAAY,OAAO,CAAC,KAAK,EAAE,CAAC,GAAG;wEAC3D,UAAU,CAAC;4EACP,MAAM,MAAM,EAAE,MAAM,CAAC,KAAK,KAAK,KAAK,YAAY,WAAW,EAAE,MAAM,CAAC,KAAK;4EACzE,IAAI,QAAQ,aAAa,CAAC,MAAM,KAAK,MAAM,KAAK,SAAS,GAAG,QAAQ,oBAAoB;4EAExF,IAAI,QAAQ,WAAW;gFACnB,WAAW,CAAA,OAAQ,CAAC;wFAAE,GAAG,IAAI;wFAAE,CAAC,KAAK,EAAE,CAAC,EAAE;oFAAI,CAAC;4EACnD,OAAO;gFACH,MAAM,aAAa;oFAAE,GAAG,OAAO;gFAAC;gFAChC,OAAO,UAAU,CAAC,KAAK,EAAE,CAAC;gFAC1B,WAAW;4EACf;wEACJ;;;;;;;;;;;;2DAxBF,KAAK,EAAE;;;;;;;;;;;2CANnB,IAAI,EAAE;;;;;oCAsCxB;;;;;;;;;;;;wBAOZ,cAAc,4BACb,8OAAC;4BAAI,WAAU;sCACf,cAAA,8OAAC;gCAAI,WAAU;;oCACZ,gBAAgB,GAAG,CAAC,CAAC,yBACpB,8OAAC,wJAAU;4CAET,WAAW,CAAC,qDAAqD,EAC/D,SAAS,IAAI,KAAK,aACd,qDACA,kDACJ;;8DAEF,8OAAC;oDAAI,WAAU;8DAAY,SAAS,IAAI;;;;;;8DACxC,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAK,WAAU;8EAAuB,SAAS,KAAK;;;;;;8EACrD,8OAAC;oEACC,WAAW,CAAC,2CAA2C,EACrD,SAAS,IAAI,KAAK,aACd,kDACA,mDACJ;;wEAED,SAAS,MAAM,GAAG,IAAI,MAAM;wEAAI,SAAS,MAAM;;;;;;;;;;;;;wDAGnD,SAAS,IAAI,kBACZ,8OAAC;4DAAE,WAAU;sEAAyC,SAAS,IAAI;;;;;;sEAErE,8OAAC;4DAAE,WAAU;sEAAyC,SAAS,IAAI;;;;;;;;;;;;8DAIrE,8OAAC;oDAAI,WAAU;;sEACX,8OAAC;4DACC,SAAS,IAAM,eAAe;4DAC9B,WAAU;4DACV,OAAM;sEAEL,cAAA,8OAAC,0NAAQ;gEAAC,MAAM;gEAAI,WAAU;;;;;;;;;;;sEAEjC,8OAAC;4DACC,SAAS,IAAM,qBAAqB,SAAS,EAAE;4DAC/C,WAAU;4DACV,OAAM;sEAEL,cAAA,8OAAC,iMAAC;gEAAC,MAAM;;;;;;;;;;;;;;;;;;2CAzCX,SAAS,EAAE;;;;;oCA8CnB,gBAAgB,MAAM,KAAK,mBACxB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,yOAAa;gDAAC,MAAM;gDAAI,WAAU;;;;;;0DACnC,8OAAC;gDAAE,WAAU;0DAAU;;;;;;;;;;;;;;;;;;;;;;;wBAQhC,cAAc,yBACb,8OAAC;4BAAI,WAAU;;gCACZ,WAAW,GAAG,CAAC,CAAC,qBACf,8OAAC,wJAAU;wCAAe,WAAU;;0DAClC,8OAAC;gDAAE,WAAU;0DAAyC,KAAK,IAAI;;;;;;0DAC/D,8OAAC;gDAAE,WAAU;0DAAW,KAAK,OAAO;;;;;;;uCAFrB,KAAK,EAAE;;;;;gCAKzB,WAAW,MAAM,KAAK,mBACrB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,0NAAQ;4CAAC,MAAM;4CAAI,WAAU;;;;;;sDAC9B,8OAAC;4CAAE,WAAU;sDAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASzC"}},
    {"offset": {"line": 3170, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/coordinator/components/students-tab.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { StudentDetailModal } from \"@/features/teacher/components/student-detail-modal\";\nimport { \n  Search, \n  Filter, \n  ChevronDown,\n  ThumbsUp,\n  ThumbsDown,\n  Calendar\n} from \"lucide-react\";\nimport { ANIMAL_EMOJIS } from \"@/features/teacher/constants\";\n\ninterface Student {\n  id: string;\n  display_name: string;\n  preferred_name?: string;\n  classroom: string;\n  classroom_name?: string;\n  animal_id?: string;\n  color_hex?: string;\n  attendance_rate?: number;\n  last_feedback_date?: string;\n  average_grade?: number;\n  positive_feedbacks?: number;\n  negative_feedbacks?: number;\n}\n\ninterface Classroom {\n  id: string;\n  name: string;\n}\n\nfunction getAvatar(student: Student): string {\n  if (student.animal_id) return student.animal_id;\n  if (!student.color_hex) return ANIMAL_EMOJIS[0];\n  const index = parseInt(student.color_hex.replace(\"#\", \"\").slice(0, 2), 16) % ANIMAL_EMOJIS.length;\n  return ANIMAL_EMOJIS[index];\n}\n\nexport function StudentsTab() {\n  const [students, setStudents] = useState<Student[]>([]);\n  const [classrooms, setClassrooms] = useState<Classroom[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedClassroom, setSelectedClassroom] = useState<string>(\"all\");\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\n\n  // Detail modal state\n  const [selectedStudent, setSelectedStudent] = useState<any>(null);\n  const [isDetailModalOpen, setIsDetailModalOpen] = useState(false);\n\n  const fetchData = async () => {\n    setIsLoading(true);\n    try {\n      const [studentsRes, classroomsRes] = await Promise.all([\n        fetch(\"/api/students/\", { credentials: \"include\" }),\n        fetch(\"/api/classrooms/\", { credentials: \"include\" }),\n      ]);\n\n      if (studentsRes.ok) {\n        const studentsData = await studentsRes.json();\n        // Enrich with simulated data\n        const enriched = studentsData.map((s: any) => ({\n          ...s,\n          attendance_rate: 70 + Math.floor(Math.random() * 30),\n          last_feedback_date: new Date(Date.now() - Math.random() * 7 * 24 * 60 * 60 * 1000).toISOString(),\n          average_grade: 6 + Math.random() * 4,\n          positive_feedbacks: Math.floor(Math.random() * 20),\n          negative_feedbacks: Math.floor(Math.random() * 5),\n        }));\n        setStudents(enriched);\n      }\n\n      if (classroomsRes.ok) {\n        const classroomsData = await classroomsRes.json();\n        setClassrooms(classroomsData.map((c: any) => ({ id: c.id, name: c.name })));\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch data:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const filtered = students.filter((s) => {\n    const matchesSearch = s.display_name.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesClassroom = selectedClassroom === \"all\" || s.classroom === selectedClassroom;\n    return matchesSearch && matchesClassroom;\n  });\n\n  const handleStudentClick = (student: Student) => {\n    setSelectedStudent({\n      id: student.id,\n      name: student.display_name,\n      avatar: getAvatar(student),\n      class: student.classroom_name || \"\",\n      classId: student.classroom,\n    });\n    setIsDetailModalOpen(true);\n  };\n\n  const formatDate = (dateStr?: string) => {\n    if (!dateStr) return \"-\";\n    const date = new Date(dateStr);\n    const now = new Date();\n    const diffDays = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60 * 24));\n    if (diffDays === 0) return \"Hoje\";\n    if (diffDays === 1) return \"Ontem\";\n    return `${diffDays} dias atr√°s`;\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"text-center py-12 text-[var(--text-muted)]\">\n        Carregando alunos...\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h2 className=\"text-xl font-bold text-[var(--text)]\">Todos os Alunos</h2>\n          <p className=\"text-sm text-[var(--text-muted)]\">\n            {students.length} alunos cadastrados\n          </p>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n        <div className=\"relative flex-1 sm:max-w-xs\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-muted)]\" size={18} />\n          <Input\n            placeholder=\"Buscar por nome...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-10 bg-[var(--surface-glass)]\"\n          />\n        </div>\n        \n        <div className=\"relative\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => setIsFilterOpen(!isFilterOpen)}\n            className=\"gap-2\"\n          >\n            <Filter size={16} />\n            {selectedClassroom === \"all\" \n              ? \"Todas as turmas\" \n              : classrooms.find(c => c.id === selectedClassroom)?.name || \"Turma\"}\n            <ChevronDown size={14} />\n          </Button>\n          \n          {isFilterOpen && (\n            <div className=\"absolute top-full left-0 mt-2 w-56 bg-[var(--surface)] border border-[var(--border)] rounded-lg shadow-xl z-10 max-h-64 overflow-auto\">\n              <button\n                className=\"block w-full text-left px-4 py-2 text-sm hover:bg-[var(--surface-glass)] transition-colors\"\n                onClick={() => {\n                  setSelectedClassroom(\"all\");\n                  setIsFilterOpen(false);\n                }}\n              >\n                Todas as turmas\n              </button>\n              {classrooms.map((classroom) => (\n                <button\n                  key={classroom.id}\n                  className=\"block w-full text-left px-4 py-2 text-sm hover:bg-[var(--surface-glass)] transition-colors\"\n                  onClick={() => {\n                    setSelectedClassroom(classroom.id);\n                    setIsFilterOpen(false);\n                  }}\n                >\n                  {classroom.name}\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Students Table */}\n      {filtered.length === 0 ? (\n        <div className=\"text-center py-12 border-2 border-dashed border-[var(--border)] rounded-xl\">\n          <p className=\"text-[var(--text-muted)]\">\n            {students.length === 0\n              ? \"Nenhum aluno cadastrado\"\n              : \"Nenhum aluno encontrado para essa busca\"}\n          </p>\n        </div>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"border-b border-[var(--border)] text-left text-sm text-[var(--text-muted)]\">\n                <th className=\"pb-3 pr-4\">Aluno</th>\n                <th className=\"pb-3 px-4\">Turma</th>\n                <th className=\"pb-3 px-4 text-center\">Frequ√™ncia</th>\n                <th className=\"pb-3 px-4 text-center\">Feedbacks</th>\n                <th className=\"pb-3 px-4 text-center\">M√©dia</th>\n                <th className=\"pb-3 pl-4\">√öltimo Feedback</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filtered.map((student) => (\n                <tr \n                  key={student.id} \n                  className=\"border-b border-[var(--border)] hover:bg-[var(--surface-glass)] transition-colors cursor-pointer\"\n                  onClick={() => handleStudentClick(student)}\n                >\n                  <td className=\"py-4 pr-4\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"h-10 w-10 rounded-full bg-[var(--surface)] flex items-center justify-center text-xl\">\n                        {getAvatar(student)}\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-[var(--text)]\">{student.display_name}</p>\n                        {student.preferred_name && (\n                          <p className=\"text-xs text-[var(--text-muted)]\">{student.preferred_name}</p>\n                        )}\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"py-4 px-4\">\n                    <span className=\"px-2 py-1 rounded-md bg-[var(--surface-glass)] text-sm font-medium\">\n                      {student.classroom_name || \"-\"}\n                    </span>\n                  </td>\n                  <td className=\"py-4 px-4 text-center\">\n                    <span className={`inline-block px-2 py-1 rounded-full text-sm font-semibold ${\n                      (student.attendance_rate || 0) >= 90 \n                        ? \"bg-emerald-100 text-emerald-700\"\n                        : (student.attendance_rate || 0) >= 75\n                          ? \"bg-amber-100 text-amber-700\"\n                          : \"bg-red-100 text-red-700\"\n                    }`}>\n                      {student.attendance_rate || 0}%\n                    </span>\n                  </td>\n                  <td className=\"py-4 px-4 text-center\">\n                    <div className=\"flex items-center justify-center gap-2\">\n                      <span className=\"flex items-center gap-1 text-emerald-600 text-sm\">\n                        <ThumbsUp size={12} /> {student.positive_feedbacks || 0}\n                      </span>\n                      <span className=\"flex items-center gap-1 text-red-500 text-sm\">\n                        <ThumbsDown size={12} /> {student.negative_feedbacks || 0}\n                      </span>\n                    </div>\n                  </td>\n                  <td className=\"py-4 px-4 text-center\">\n                    <span className={`font-bold ${\n                      (student.average_grade || 0) >= 7 \n                        ? \"text-emerald-600\"\n                        : (student.average_grade || 0) >= 5\n                          ? \"text-amber-600\"\n                          : \"text-red-600\"\n                    }`}>\n                      {(student.average_grade || 0).toFixed(1)}\n                    </span>\n                  </td>\n                  <td className=\"py-4 pl-4\">\n                    <div className=\"flex items-center gap-1 text-sm text-[var(--text-muted)]\">\n                      <Calendar size={14} />\n                      {formatDate(student.last_feedback_date)}\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {/* Student Detail Modal */}\n      <StudentDetailModal\n        isOpen={isDetailModalOpen}\n        onClose={() => setIsDetailModalOpen(false)}\n        student={selectedStudent}\n        onUpdate={() => {}}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3728, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/app/coordinator/%28dashboard%29/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { CoordinatorTabs, type CoordinatorTab } from \"@/features/coordinator/components/coordinator-tabs\";\nimport { DashboardTab } from \"@/features/coordinator/components/dashboard-tab\";\nimport { TurmasTab } from \"@/features/coordinator/components/turmas-tab\";\nimport { TeachersTab } from \"@/features/coordinator/components/teachers-tab\";\nimport { StudentsTab } from \"@/features/coordinator/components/students-tab\";\n\nexport default function CoordinatorDashboard() {\n  const [activeTab, setActiveTab] = useState<CoordinatorTab>(\"dashboard\");\n\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case \"dashboard\":\n        return <DashboardTab />;\n      case \"turmas\":\n        return <TurmasTab />;\n      case \"teachers\":\n        return <TeachersTab />;\n      case \"students\":\n        return <StudentsTab />;\n      default:\n        return <DashboardTab />;\n    }\n  };\n\n  return (\n    <div className=\"space-y-6 pb-20\">\n      <CoordinatorTabs activeTab={activeTab} onTabChange={setActiveTab} />\n      {renderTabContent()}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAiB;IAE3D,MAAM,mBAAmB;QACvB,OAAQ;YACN,KAAK;gBACH,qBAAO,8OAAC,iLAAY;;;;;YACtB,KAAK;gBACH,qBAAO,8OAAC,2KAAS;;;;;YACnB,KAAK;gBACH,qBAAO,8OAAC,+KAAW;;;;;YACrB,KAAK;gBACH,qBAAO,8OAAC,+KAAW;;;;;YACrB;gBACE,qBAAO,8OAAC,iLAAY;;;;;QACxB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,uLAAe;gBAAC,WAAW;gBAAW,aAAa;;;;;;YACnD;;;;;;;AAGP"}}]
}