{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/back-button.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface BackButtonProps {\n  href?: string;\n  label?: string;\n  className?: string;\n}\n\nexport function BackButton({ href, label = \"Voltar\", className }: BackButtonProps) {\n  const router = useRouter();\n\n  const handleBack = () => {\n    if (href) {\n      router.push(href);\n    } else {\n      router.back();\n    }\n  };\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"sm\"\n      onClick={handleBack}\n      className={`gap-2 pl-0 hover:bg-transparent hover:text-[var(--primary)] ${className || \"\"}`}\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"24\"\n        height=\"24\"\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        className=\"h-4 w-4\"\n      >\n        <path d=\"m15 18-6-6 6-6\" />\n      </svg>\n      {label}\n    </Button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWO,SAAS,WAAW,EAAE,IAAI,EAAE,QAAQ,QAAQ,EAAE,SAAS,EAAmB;IAC/E,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,aAAa;QACjB,IAAI,MAAM;YACR,OAAO,IAAI,CAAC;QACd,OAAO;YACL,OAAO,IAAI;QACb;IACF;IAEA,qBACE,8OAAC,4IAAM;QACL,SAAQ;QACR,MAAK;QACL,SAAS;QACT,WAAW,CAAC,4DAA4D,EAAE,aAAa,IAAI;;0BAE3F,8OAAC;gBACC,OAAM;gBACN,OAAM;gBACN,QAAO;gBACP,SAAQ;gBACR,MAAK;gBACL,QAAO;gBACP,aAAY;gBACZ,eAAc;gBACd,gBAAe;gBACf,WAAU;0BAEV,cAAA,8OAAC;oBAAK,GAAE;;;;;;;;;;;YAET;;;;;;;AAGP"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/card.tsx"],"sourcesContent":["import React from \"react\";\n\ninterface CardProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: React.ReactNode;\n  variant?: \"default\" | \"glass\";\n}\n\nexport function Card({\n  children,\n  className = \"\",\n  variant = \"default\",\n  ...props\n}: CardProps) {\n  const baseStyles = \"rounded-[var(--radius-lg)] p-5 transition-all duration-200 border border-[var(--border)]\";\n  \n  const variantStyles = variant === \"glass\"\n    ? \"bg-[var(--surface-glass)] backdrop-blur-sm shadow-sm\"\n    : \"bg-[var(--surface)] shadow-md\";\n\n  return (\n    <div className={`${baseStyles} ${variantStyles} ${className}`} {...props}>\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAOO,SAAS,KAAK,EACnB,QAAQ,EACR,YAAY,EAAE,EACd,UAAU,SAAS,EACnB,GAAG,OACO;IACV,MAAM,aAAa;IAEnB,MAAM,gBAAgB,YAAY,UAC9B,yDACA;IAEJ,qBACE,8OAAC;QAAI,WAAW,GAAG,WAAW,CAAC,EAAE,cAAc,CAAC,EAAE,WAAW;QAAG,GAAG,KAAK;kBACrE;;;;;;AAGP"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/teacher/components/student-tile.tsx"],"sourcesContent":["import React from \"react\";\nimport { Card } from \"@/components/ui/card\";\n\ninterface StudentTileProps {\n  name: string;\n  avatar: string; // Emoji for now, or URL\n  status?: \"present\" | \"absent\" | \"late\";\n  points?: number;\n  onClick?: () => void;\n  onLongPress?: () => void;\n}\n\nexport function StudentTile({ name, avatar, status, points = 0, onClick, onLongPress }: StudentTileProps) {\n  const statusColors = {\n    present: \"border-[var(--secondary)] bg-[var(--green-50)]\",\n    absent: \"border-[var(--accent)] bg-[var(--orange-50)]\",\n    late: \"border-[var(--color-khaki-400)] bg-[var(--color-khaki-50)]\",\n  };\n\n  const activeStyle = status ? statusColors[status] : \"border-transparent bg-[var(--surface)]\";\n\n  return (\n    <Card \n      onClick={onClick}\n      onContextMenu={(e) => { e.preventDefault(); onLongPress?.(); }}\n      className={`relative flex flex-col items-center justify-center gap-2 p-3 cursor-pointer hover:scale-[1.02] active:scale-95 border-2 ${activeStyle}`}\n    >\n      {/* Points Badge */}\n      {points !== 0 && (\n         <div className={`absolute top-2 right-2 flex items-center justify-center min-w-[24px] h-6 px-1.5 rounded-full text-xs font-bold shadow-sm ${points > 0 ? 'bg-[var(--green-100)] text-[var(--green-700)]' : 'bg-[var(--orange-100)] text-[var(--orange-700)]'}`}>\n            {points > 0 ? \"+\" : \"\"}{points}\n         </div>\n      )}\n\n      <div className=\"text-4xl filter drop-shadow-sm\">{avatar}</div>\n      <span className=\"text-sm font-medium text-center leading-tight line-clamp-2\">\n        {name}\n      </span>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAWO,SAAS,YAAY,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,CAAC,EAAE,OAAO,EAAE,WAAW,EAAoB;IACtG,MAAM,eAAe;QACnB,SAAS;QACT,QAAQ;QACR,MAAM;IACR;IAEA,MAAM,cAAc,SAAS,YAAY,CAAC,OAAO,GAAG;IAEpD,qBACE,8OAAC,wIAAI;QACH,SAAS;QACT,eAAe,CAAC;YAAQ,EAAE,cAAc;YAAI;QAAiB;QAC7D,WAAW,CAAC,wHAAwH,EAAE,aAAa;;YAGlJ,WAAW,mBACT,8OAAC;gBAAI,WAAW,CAAC,yHAAyH,EAAE,SAAS,IAAI,kDAAkD,mDAAmD;;oBAC1P,SAAS,IAAI,MAAM;oBAAI;;;;;;;0BAI9B,8OAAC;gBAAI,WAAU;0BAAkC;;;;;;0BACjD,8OAAC;gBAAK,WAAU;0BACb;;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/teacher/components/attendance-chip.tsx"],"sourcesContent":["import React from \"react\";\n\nexport type AttendanceStatus = \"present\" | \"absent\" | \"late\";\n\ninterface AttendanceChipProps {\n  status: AttendanceStatus;\n  selected?: boolean;\n  onClick?: () => void;\n}\n\nexport function AttendanceChip({ status, selected, onClick }: AttendanceChipProps) {\n  const config = {\n    present: { label: \"Presente\", color: \"var(--secondary)\", bg: \"var(--green-100)\" },\n    absent: { label: \"Falta\", color: \"var(--accent)\", bg: \"var(--orange-100)\" },\n    late: { label: \"Atraso\", color: \"var(--color-khaki-600)\", bg: \"var(--color-khaki-200)\" },\n  };\n\n  const { label, color, bg } = config[status];\n\n  return (\n    <button\n      onClick={onClick}\n      className={`\n        px-3 py-1.5 rounded-[var(--radius-sm)] text-sm font-semibold border transition-all\n        ${selected \n          ? `bg-[${bg}] border-[${color}] text-[${color}] shadow-sm scale-105` \n          : \"bg-transparent border-transparent text-[var(--text-muted)] opacity-60 hover:opacity-100\"\n        }\n      `}\n      style={selected ? { backgroundColor: bg, borderColor: color, color: color } : {}}\n    >\n      {label}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAUO,SAAS,eAAe,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAuB;IAC/E,MAAM,SAAS;QACb,SAAS;YAAE,OAAO;YAAY,OAAO;YAAoB,IAAI;QAAmB;QAChF,QAAQ;YAAE,OAAO;YAAS,OAAO;YAAiB,IAAI;QAAoB;QAC1E,MAAM;YAAE,OAAO;YAAU,OAAO;YAA0B,IAAI;QAAyB;IACzF;IAEA,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,MAAM,CAAC,OAAO;IAE3C,qBACE,8OAAC;QACC,SAAS;QACT,WAAW,CAAC;;QAEV,EAAE,WACE,CAAC,IAAI,EAAE,GAAG,UAAU,EAAE,MAAM,QAAQ,EAAE,MAAM,qBAAqB,CAAC,GAClE,0FACH;MACH,CAAC;QACD,OAAO,WAAW;YAAE,iBAAiB;YAAI,aAAa;YAAO,OAAO;QAAM,IAAI,CAAC;kBAE9E;;;;;;AAGP"}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/teacher/components/feedback-bottom-bar.tsx"],"sourcesContent":["import { GlassPanel } from \"@/components/ui/glass-panel\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface FeedbackBottomBarProps {\n  onOpenManager: () => void;\n}\n\nexport function FeedbackBottomBar({\n  onOpenManager,\n}: FeedbackBottomBarProps) {\n  return (\n    <div className=\"fixed bottom-20 left-4 right-4 md:static md:w-full md:mx-0 z-40\">\n      <GlassPanel variant=\"strong\" className=\"p-3 shadow-2xl flex items-center justify-between border-[var(--primary)] border-2\">\n        <div className=\"flex-1 text-sm font-medium text-[var(--text-muted)]\">\n            Toque em um aluno para dar feedback\n        </div>\n        \n        <Button \n            variant=\"ghost\" \n            size=\"sm\" \n            className=\"text-[var(--text-muted)] hover:text-[var(--text)]\"\n            onClick={onOpenManager}\n        >\n            ‚öôÔ∏è Gerenciar\n        </Button>\n      </GlassPanel>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAMO,SAAS,kBAAkB,EAChC,aAAa,EACU;IACvB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,wJAAU;YAAC,SAAQ;YAAS,WAAU;;8BACrC,8OAAC;oBAAI,WAAU;8BAAsD;;;;;;8BAIrE,8OAAC,4IAAM;oBACH,SAAQ;oBACR,MAAK;oBACL,WAAU;oBACV,SAAS;8BACZ;;;;;;;;;;;;;;;;;AAMT"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = ({\n  open,\n  onOpenChange,\n  children,\n}: {\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  children: React.ReactNode;\n}) => {\n  if (!open) return null;\n\n  const handleBackdropClick = (e: React.MouseEvent) => {\n    if (e.target === e.currentTarget) {\n      onOpenChange?.(false);\n    }\n  };\n\n  return (\n    <div \n      className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in-0\"\n      onClick={handleBackdropClick}\n    >\n      {children}\n    </div>\n  );\n}\n\nconst DialogContent = ({\n  className,\n  children,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"relative z-50 grid w-full max-w-lg gap-4 border bg-[var(--surface)] p-6 shadow-lg duration-200 sm:rounded-lg md:w-full\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n  </div>\n)\n\nconst DialogHeader = ({\n  className,\n  children,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n  </div>\n)\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst DialogTitle = ({\n  className,\n  children,\n  ...props\n}: React.HTMLAttributes<HTMLHeadingElement>) => (\n  <h2\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n  </h2>\n)\n\nexport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;AAHA;;;AAKA,MAAM,SAAS,CAAC,EACd,IAAI,EACJ,YAAY,EACZ,QAAQ,EAKT;IACC,IAAI,CAAC,MAAM,OAAO;IAElB,MAAM,sBAAsB,CAAC;QAC3B,IAAI,EAAE,MAAM,KAAK,EAAE,aAAa,EAAE;YAChC,eAAe;QACjB;IACF;IAEA,qBACE,8OAAC;QACC,WAAU;QACV,SAAS;kBAER;;;;;;AAGP;AAEA,MAAM,gBAAgB,CAAC,EACrB,SAAS,EACT,QAAQ,EACR,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,0HACA;QAED,GAAG,KAAK;kBAER;;;;;;AAIL,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,QAAQ,EACR,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,sDACA;QAED,GAAG,KAAK;kBAER;;;;;;AAIL,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAIb,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,QAAQ,EACR,GAAG,OACsC,iBACzC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,qDACA;QAED,GAAG,KAAK;kBAER"}},
    {"offset": {"line": 322, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAKA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/teacher/components/student-feedback-modal.tsx"],"sourcesContent":["import { useState, useMemo } from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { FeedbackTemplate, FeedbackCategory } from \"../types/feedback-types\";\n\ninterface StudentFeedbackModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  studentName: string;\n  studentAvatar: string;\n  templates: FeedbackTemplate[];\n  onApplyFeedback: (template: FeedbackTemplate, note?: string) => void;\n}\n\nexport function StudentFeedbackModal({\n  isOpen,\n  onClose,\n  studentName,\n  studentAvatar,\n  templates,\n  onApplyFeedback,\n}: StudentFeedbackModalProps) {\n  const [activeTab, setActiveTab] = useState<FeedbackCategory>(\"positive\");\n  const [note, setNote] = useState(\"\");\n  const [showNoteInput, setShowNoteInput] = useState(false);\n\n  // Filter templates based on active tab\n  const filteredTemplates = useMemo(() => {\n    return templates.filter((t) => t.category === activeTab);\n  }, [templates, activeTab]);\n\n  const handleTemplateClick = (template: FeedbackTemplate) => {\n    if (showNoteInput && note.trim()) {\n        onApplyFeedback(template, note);\n    } else {\n        onApplyFeedback(template, showNoteInput ? note : undefined);\n    }\n    // Reset state after feedback\n    setNote(\"\");\n    setShowNoteInput(false); \n    onClose();\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-md bg-[var(--surface)] border-[var(--border)] sm:rounded-[var(--radius-lg)]\">\n        <DialogHeader>\n          <div className=\"flex items-center gap-3\">\n             <div className=\"text-4xl\">{studentAvatar}</div>\n             <DialogTitle className=\"text-xl\">Feedback para {studentName}</DialogTitle>\n          </div>\n        </DialogHeader>\n\n        {/* Tabs */}\n        <div className=\"flex p-1 bg-[var(--bg)] rounded-full border border-[var(--border)] mb-4\">\n          <button\n            className={`flex-1 py-2 text-sm font-medium rounded-full transition-all ${\n              activeTab === \"positive\"\n                ? \"bg-[var(--green-100)] text-[var(--green-700)] shadow-sm\"\n                : \"text-[var(--text-muted)] hover:text-[var(--text)]\"\n            }`}\n            onClick={() => setActiveTab(\"positive\")}\n          >\n            Positivo\n          </button>\n          <button\n            className={`flex-1 py-2 text-sm font-medium rounded-full transition-all ${\n              activeTab === \"improvement\"\n                ? \"bg-[var(--orange-100)] text-[var(--orange-700)] shadow-sm\"\n                : \"text-[var(--text-muted)] hover:text-[var(--text)]\"\n            }`}\n            onClick={() => setActiveTab(\"improvement\")}\n          >\n            Melhoria\n          </button>\n        </div>\n\n        {/* Templates Grid */}\n        <div className=\"grid grid-cols-3 gap-3 mb-4 max-h-[40vh] overflow-y-auto p-1\">\n            {filteredTemplates.map((template) => (\n                <button\n                    key={template.id}\n                    onClick={() => handleTemplateClick(template)}\n                    className={`flex flex-col items-center justify-center p-3 rounded-[var(--radius-md)] border-2 transition-all hover:scale-105 active:scale-95 gap-2\n                        ${activeTab === \"positive\" ? \"border-[var(--green-100)] bg-[var(--green-50)] hover:border-[var(--green-300)]\" : \"border-[var(--orange-100)] bg-[var(--orange-50)] hover:border-[var(--orange-300)]\"}\n                    `}\n                >\n                    <span className=\"text-2xl\">{template.icon}</span>\n                    <span className=\"text-xs font-semibold text-center leading-tight\">{template.label}</span>\n                    <span className={`text-[10px] font-bold px-1.5 py-0.5 rounded-full ${activeTab === 'positive' ? 'bg-[var(--green-200)] text-[var(--green-800)]' : 'bg-[var(--orange-200)] text-[var(--orange-800)]'}`}>\n                        {template.points > 0 ? `+${template.points}` : template.points}\n                    </span>\n                </button>\n            ))}\n        </div>\n\n        {/* Optional Note */}\n        <div className=\"space-y-2\">\n            {!showNoteInput ? (\n                <Button \n                    variant=\"ghost\" \n                    size=\"sm\" \n                    className=\"w-full text-[var(--text-muted)]\"\n                    onClick={() => setShowNoteInput(true)}\n                >\n                    + Adicionar anota√ß√£o (opcional)\n                </Button>\n            ) : (\n                <div className=\"animate-in fade-in slide-in-from-top-2\">\n                    <Textarea\n                        placeholder=\"Escreva uma observa√ß√£o...\"\n                        value={note}\n                        onChange={(e) => setNote(e.target.value)}\n                        className=\"min-h-[80px]\"\n                    />\n                </div>\n            )}\n        </div>\n\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAYO,SAAS,qBAAqB,EACnC,MAAM,EACN,OAAO,EACP,WAAW,EACX,aAAa,EACb,SAAS,EACT,eAAe,EACW;IAC1B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAmB;IAC7D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,uCAAuC;IACvC,MAAM,oBAAoB,IAAA,gNAAO,EAAC;QAChC,OAAO,UAAU,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK;IAChD,GAAG;QAAC;QAAW;KAAU;IAEzB,MAAM,sBAAsB,CAAC;QAC3B,IAAI,iBAAiB,KAAK,IAAI,IAAI;YAC9B,gBAAgB,UAAU;QAC9B,OAAO;YACH,gBAAgB,UAAU,gBAAgB,OAAO;QACrD;QACA,6BAA6B;QAC7B,QAAQ;QACR,iBAAiB;QACjB;IACF;IAEA,qBACE,8OAAC,4IAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,8OAAC,mJAAa;YAAC,WAAU;;8BACvB,8OAAC,kJAAY;8BACX,cAAA,8OAAC;wBAAI,WAAU;;0CACZ,8OAAC;gCAAI,WAAU;0CAAY;;;;;;0CAC3B,8OAAC,iJAAW;gCAAC,WAAU;;oCAAU;oCAAe;;;;;;;;;;;;;;;;;;8BAKrD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,WAAW,CAAC,4DAA4D,EACtE,cAAc,aACV,4DACA,qDACJ;4BACF,SAAS,IAAM,aAAa;sCAC7B;;;;;;sCAGD,8OAAC;4BACC,WAAW,CAAC,4DAA4D,EACtE,cAAc,gBACV,8DACA,qDACJ;4BACF,SAAS,IAAM,aAAa;sCAC7B;;;;;;;;;;;;8BAMH,8OAAC;oBAAI,WAAU;8BACV,kBAAkB,GAAG,CAAC,CAAC,yBACpB,8OAAC;4BAEG,SAAS,IAAM,oBAAoB;4BACnC,WAAW,CAAC;wBACR,EAAE,cAAc,aAAa,mFAAmF,oFAAoF;oBACxM,CAAC;;8CAED,8OAAC;oCAAK,WAAU;8CAAY,SAAS,IAAI;;;;;;8CACzC,8OAAC;oCAAK,WAAU;8CAAmD,SAAS,KAAK;;;;;;8CACjF,8OAAC;oCAAK,WAAW,CAAC,iDAAiD,EAAE,cAAc,aAAa,kDAAkD,mDAAmD;8CAChM,SAAS,MAAM,GAAG,IAAI,CAAC,CAAC,EAAE,SAAS,MAAM,EAAE,GAAG,SAAS,MAAM;;;;;;;2BAT7D,SAAS,EAAE;;;;;;;;;;8BAgB5B,8OAAC;oBAAI,WAAU;8BACV,CAAC,8BACE,8OAAC,4IAAM;wBACH,SAAQ;wBACR,MAAK;wBACL,WAAU;wBACV,SAAS,IAAM,iBAAiB;kCACnC;;;;;6CAID,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,gJAAQ;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;4BACvC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlC"}},
    {"offset": {"line": 545, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/input.tsx"],"sourcesContent":["\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type InputProps = React.InputHTMLAttributes<HTMLInputElement>\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-11 w-full rounded-md border border-[var(--border)] bg-[var(--surface)] px-3 py-2 text-sm ring-offset-[var(--bg)] file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[var(--text-muted)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--primary)] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-[var(--text)] transition-colors\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAIA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,yHAAE,EACX,qaACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 573, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/teacher/components/feedback-template-manager.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { FeedbackCategory, FeedbackTemplate } from \"../types/feedback-types\";\n\ninterface FeedbackTemplateManagerProps {\n  isOpen: boolean;\n  onClose: () => void;\n  templates: FeedbackTemplate[];\n  onAdd: (template: Omit<FeedbackTemplate, \"id\">) => void;\n  onEdit: (id: string, updates: Partial<FeedbackTemplate>) => void;\n  onDelete: (id: string) => void;\n}\n\nexport function FeedbackTemplateManager({\n  isOpen,\n  onClose,\n  templates,\n  onAdd,\n  onEdit,\n  onDelete,\n}: FeedbackTemplateManagerProps) {\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [formData, setFormData] = useState<Partial<FeedbackTemplate>>({\n    label: \"\",\n    icon: \"\",\n    points: 1,\n    category: \"positive\",\n  });\n\n  const resetForm = () => {\n    setEditingId(null);\n    setFormData({ label: \"\", icon: \"\", points: 1, category: \"positive\" });\n  };\n\n  const handleStartEdit = (template: FeedbackTemplate) => {\n    setEditingId(template.id);\n    setFormData(template);\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!formData.label || !formData.icon) return; // Simple validation\n\n    if (editingId) {\n      onEdit(editingId, formData);\n    } else {\n      onAdd(formData as Omit<FeedbackTemplate, \"id\">);\n    }\n    resetForm();\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={(open) => !open && onClose()}>\n      <DialogContent className=\"max-w-md max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>Gerenciar Templates</DialogTitle>\n        </DialogHeader>\n\n        <div className=\"flex flex-col gap-6 py-4\">\n          {/* Form */}\n          <form onSubmit={handleSubmit} className=\"flex flex-col gap-3 p-4 bg-gray-50 rounded-lg border\">\n            <h3 className=\"font-semibold text-sm text-[var(--text-muted)]\">\n              {editingId ? \"Editar Template\" : \"Novo Template\"}\n            </h3>\n            <div className=\"flex gap-2\">\n                <Input\n                placeholder=\"Emoji/√çcone\"\n                className=\"w-16 text-center text-xl\"\n                value={formData.icon}\n                onChange={(e) => setFormData({ ...formData, icon: e.target.value })}\n                maxLength={2}\n                />\n                <Input\n                placeholder=\"Nome do feedback\"\n                className=\"flex-1\"\n                value={formData.label}\n                onChange={(e) => setFormData({ ...formData, label: e.target.value })}\n                />\n            </div>\n            <div className=\"flex gap-2\">\n                <select \n                    className=\"flex-1 rounded-md border border-input p-2 text-sm\"\n                    value={formData.category}\n                    onChange={(e) => setFormData({ ...formData, category: e.target.value as FeedbackCategory })}\n                >\n                    <option value=\"positive\">Positivo</option>\n                    <option value=\"improvement\">Melhoria</option>\n                </select>\n                <Input\n                    type=\"number\"\n                    placeholder=\"Pontos\"\n                    className=\"w-20\"\n                    value={formData.points}\n                    onChange={(e) => setFormData({ ...formData, points: parseInt(e.target.value) || 0 })}\n                />\n            </div>\n            <div className=\"flex justify-end gap-2 pt-2\">\n                {editingId && (\n                    <Button type=\"button\" variant=\"ghost\" size=\"sm\" onClick={resetForm}>Cancelar Edi√ß√£o</Button>\n                )}\n                <Button type=\"submit\" size=\"sm\">{editingId ? \"Salvar\" : \"Adicionar\"}</Button>\n            </div>\n          </form>\n\n          {/* List */}\n          <div className=\"flex flex-col gap-2\">\n            <h3 className=\"font-semibold text-sm\">Templates Existentes</h3>\n            {templates.map((t) => (\n                <div key={t.id} className=\"flex items-center justify-between p-2 rounded border bg-white\">\n                    <div className=\"flex items-center gap-2\">\n                        <span className=\"text-xl\">{t.icon}</span>\n                        <div className=\"flex flex-col\">\n                            <span className=\"font-medium text-sm\">{t.label}</span>\n                            <span className=\"text-xs text-[var(--text-muted)]\">\n                                {t.category === 'positive' ? 'Positivo' : 'Melhoria'} ‚Ä¢ {t.points > 0 ? '+' : ''}{t.points} pts\n                            </span>\n                        </div>\n                    </div>\n                    <div className=\"flex gap-1\">\n                        <Button variant=\"ghost\" size=\"sm\" onClick={() => handleStartEdit(t)}>‚úèÔ∏è</Button>\n                        <Button variant=\"ghost\" size=\"sm\" className=\"text-red-500 hover:text-red-600\" onClick={() => onDelete(t.id)}>üóëÔ∏è</Button>\n                    </div>\n                </div>\n            ))}\n          </div>\n        </div>\n        \n        <DialogFooter>\n            <Button variant=\"ghost\" onClick={onClose}>Fechar</Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 917, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/app/teacher/%28dashboard%29/classroom/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, use, useEffect } from \"react\";\nimport { GlassPanel } from \"@/components/ui/glass-panel\";\nimport { Button } from \"@/components/ui/button\";\nimport { BackButton } from \"@/components/ui/back-button\";\nimport { StudentTile } from \"@/features/teacher/components/student-tile\";\nimport { AttendanceChip, AttendanceStatus } from \"@/features/teacher/components/attendance-chip\";\n\n// Feedback Templates (Mock)\nimport { FeedbackCategory, FeedbackTemplate } from \"@/features/teacher/types/feedback-types\";\nimport { FeedbackBottomBar } from \"@/features/teacher/components/feedback-bottom-bar\";\nimport { StudentFeedbackModal } from \"@/features/teacher/components/student-feedback-modal\";\nimport { FeedbackTemplateManager } from \"@/features/teacher/components/feedback-template-manager\";\nimport { getCookie } from \"@/lib/utils\";\n\nconst INITIAL_TEMPLATES: FeedbackTemplate[] = [\n  { id: \"1\", label: \"Participa√ß√£o\", icon: \"‚úã\", points: 1, category: \"positive\" },\n  { id: \"2\", label: \"Colabora√ß√£o\", icon: \"ü§ù\", points: 1, category: \"positive\" },\n  { id: \"3\", label: \"Criatividade\", icon: \"üé®\", points: 1, category: \"positive\" },\n  { id: \"4\", label: \"Foco\", icon: \"üéØ\", points: 1, category: \"positive\" },\n  { id: \"5\", label: \"Conversa\", icon: \"üó£Ô∏è\", points: -1, category: \"improvement\" },\n  { id: \"6\", label: \"Atraso\", icon: \"‚è∞\", points: -1, category: \"improvement\" },\n];\n\ninterface Student {\n    id: number;\n    name: string;\n    avatar: string;\n}\n\n\n\nexport default function ClassDetail({ params }: { params: Promise<{ id: string }> }) {\n  const { id } = use(params);\n  const [viewMode, setViewMode] = useState<\"attendance\" | \"feedback\">(\"attendance\");\n  \n  // Replaced mock generation with state and fetch\n  const [currentStudents, setCurrentStudents] = useState<Student[]>([]);\n  const [isLoadingStudents, setIsLoadingStudents] = useState(true);\n  const [classroomName, setClassroomName] = useState<string>(\"\");\n\n  // Attendance State\n  const [attendanceMode, setAttendanceMode] = useState<AttendanceStatus>(\"present\");\n  const [studentStatus, setStudentStatus] = useState<Record<number, AttendanceStatus>>({});\n  const [studentPoints, setStudentPoints] = useState<Record<number, number>>({});\n\n  // Feedback State\n  const [templates, setTemplates] = useState<FeedbackTemplate[]>(INITIAL_TEMPLATES);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [managerOpen, setManagerOpen] = useState(false);\n  const [selectedStudentId, setSelectedStudentId] = useState<number | null>(null);\n\n  // Fetch Students from API\n  useEffect(() => {\n    const fetchStudents = async () => {\n        setIsLoadingStudents(true);\n        try {\n            const res = await fetch(`/api/students?classroom=${id}`, {\n              credentials: \"include\",\n            });\n            if (res.ok) {\n                const data = await res.json();\n                // Map backend student to UI Student\n                const mapped = data.map((s: any) => ({\n                    id: s.id,\n                    name: s.display_name,\n                    avatar: s.animal_id || \"ü¶Å\" // Use backend avatar or fallback\n                }));\n                setCurrentStudents(mapped);\n                \n                // Initialize status\n                const initialStatus: Record<number, AttendanceStatus> = {};\n                mapped.forEach((s: any) => initialStatus[s.id] = \"present\");\n                setStudentStatus(initialStatus);\n            setStudentStatus(initialStatus);\n            }\n        } catch (error) {\n            console.error(\"Failed to fetch students\", error);\n        } finally {\n            setIsLoadingStudents(false);\n        }\n    };\n\n    const fetchClassroomDetails = async () => {\n        try {\n            const res = await fetch(`/api/classrooms/${id}`, {\n                credentials: \"include\",\n            });\n            if (res.ok) {\n                const data = await res.json();\n                setClassroomName(data.name);\n            }\n        } catch (error) {\n            console.error(\"Failed to fetch classroom details\", error);\n        }\n    };\n\n    fetchStudents();\n    fetchClassroomDetails();\n  }, [id]);\n\n  // Template Management Handlers\n  const handleAddTemplate = (template: Omit<FeedbackTemplate, \"id\">) => {\n    const newTemplate = { ...template, id: Math.random().toString(36).substr(2, 9) };\n    setTemplates([...templates, newTemplate]);\n  };\n\n  const handleEditTemplate = (id: string, updates: Partial<FeedbackTemplate>) => {\n    setTemplates(templates.map(t => t.id === id ? { ...t, ...updates } : t));\n  };\n\n  const handleDeleteTemplate = (id: string) => {\n    setTemplates(templates.filter(t => t.id !== id));\n  };\n\n  const handleStudentClick = (studentId: number) => {\n    if (viewMode === \"attendance\") {\n        setStudentStatus((prev) => {\n            const currentStatus = prev[studentId];\n            \n            // If the student already has this status, toggle it\n            if (currentStatus === attendanceMode) {\n                 // If unselecting 'absent' or 'late', revert to 'present' (default)\n                 if (attendanceMode !== \"present\") {\n                     return { ...prev, [studentId]: \"present\" };\n                 }\n                 \n                 // If unselecting 'present', clear it to undefined/unselected\n                 const newStatus = { ...prev };\n                 delete newStatus[studentId];\n                 return newStatus;\n            }\n            \n            // Otherwise, assign the new status\n            return {\n                ...prev,\n                [studentId]: attendanceMode,\n            };\n        });\n    } else {\n        setSelectedStudentId(studentId);\n        setModalOpen(true);\n    }\n  };\n\n  const handleApplyFeedback = async (template: FeedbackTemplate, note?: string) => {\n    if (selectedStudentId) {\n        try {\n            const res = await fetch(\"/api/feedback\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"X-CSRFToken\": getCookie(\"csrftoken\") || \"\",\n                },\n                body: JSON.stringify({\n                    student: selectedStudentId,\n                    type: template.category, // 'positive' | 'improvement'\n                    label: template.label,\n                    icon: template.icon,\n                    points: template.points,\n                    note: note\n                })\n            });\n\n            if (res.ok) {\n                 setStudentPoints(prev => ({\n                    ...prev,\n                    [selectedStudentId]: (prev[selectedStudentId] || 0) + template.points\n                }));\n                 console.log(`Applied ${template.label} to student ${selectedStudentId}`);\n            } else {\n                console.error(\"Failed to save feedback\");\n            }\n        } catch (error) {\n            console.error(\"Error creating feedback\", error);\n        }\n    }\n  };\n\n  const handleMarkAll = () => {\n    const newStatus: Record<number, AttendanceStatus> = {};\n    currentStudents.forEach((s) => {\n      newStatus[s.id] = \"present\";\n    });\n    setStudentStatus(newStatus);\n  };\n\n  const currentCount = Object.values(studentStatus).filter(s => s === \"present\").length;\n\n  return (\n    <div className=\"flex flex-col gap-4 pb-60 relative\">\n      <div className=\"flex items-center justify-between\">\n         <div className=\"flex items-center gap-2\">\n            <BackButton href=\"/teacher/classroom\" />\n         </div>\n         \n         <div className=\"flex bg-[var(--surface)] p-1 rounded-full border\">\n            <button \n                onClick={() => setViewMode(\"attendance\")}\n                className={`py-1 px-3 text-xs font-bold rounded-full transition-all ${viewMode === 'attendance' ? 'bg-[var(--primary)] text-white' : 'text-[var(--text-muted)]'}`}\n            >\n                Chamada\n            </button>\n            <button \n                onClick={() => setViewMode(\"feedback\")}\n                className={`py-1 px-3 text-xs font-bold rounded-full transition-all ${viewMode === 'feedback' ? 'bg-[var(--primary)] text-white' : 'text-[var(--text-muted)]'}`}\n            >\n                Feedback\n            </button>\n         </div>\n      </div>\n\n      <GlassPanel className=\"p-4 flex justify-between items-center rounded-[var(--radius-lg)]\">\n        <div>\n           <h2 className=\"font-bold text-xl\">Turma {classroomName || id}</h2>\n           <p className=\"text-sm text-[var(--text-muted)]\">\n               {viewMode === 'attendance' ? 'Chamada em andamento' : 'Enviar Feedback'}\n           </p>\n        </div>\n        <div className=\"text-right\">\n           <span className=\"block text-2xl font-bold text-[var(--primary)]\">{currentCount}/{currentStudents.length}</span>\n           <span className=\"text-xs\">Presentes</span>\n        </div>\n      </GlassPanel>\n\n      {isLoadingStudents ? (\n          <div className=\"text-center py-12 text-[var(--text-muted)]\">Carregando alunos...</div>\n      ) : currentStudents.length === 0 ? (\n          <div className=\"text-center py-12 border-2 border-dashed border-[var(--border)] rounded-xl\">\n            <p className=\"text-[var(--text-muted)]\">Nenhum aluno nesta turma ainda.</p>\n          </div>\n      ) : (\n          <div className=\"grid grid-cols-3 gap-3\">\n            {currentStudents.map((student) => (\n              <StudentTile\n                key={student.id}\n                name={student.name}\n                avatar={student.avatar}\n                status={studentStatus[student.id]}\n                points={studentPoints[student.id]}\n                onClick={() => handleStudentClick(student.id)}\n              />\n            ))}\n          </div>\n      )}\n\n      {viewMode === 'attendance' ? (\n        <div className=\"fixed bottom-20 left-4 right-4 md:static md:w-full md:mx-0 z-40\">\n            <GlassPanel variant=\"strong\" className=\"p-3 shadow-2xl flex flex-col gap-3 border-[var(--primary)] border-2\">\n            <div className=\"flex justify-between items-center bg-[var(--surface)] p-1 rounded-[var(--radius-md)] relative\">\n                {([\"present\", \"late\", \"absent\"] as const).map((mode) => (\n                    <AttendanceChip \n                    key={mode} \n                    status={mode} \n                    selected={attendanceMode === mode} \n                    onClick={() => setAttendanceMode(mode)}\n                    />\n                ))}\n            </div>\n            \n            <div className=\"flex gap-2\">\n                <Button variant=\"ghost\" size=\"sm\" className=\"flex-1\" onClick={handleMarkAll}>\n                    Todos Presentes\n                </Button>\n                <Button variant=\"primary\" size=\"sm\" className=\"flex-[2]\">\n                    Salvar Chamada\n                </Button>\n            </div>\n            </GlassPanel>\n        </div>\n      ) : (\n          <FeedbackBottomBar\n             onOpenManager={() => setManagerOpen(true)}\n          />\n      )}\n\n      {selectedStudentId && (\n        <StudentFeedbackModal\n            isOpen={modalOpen}\n            onClose={() => setModalOpen(false)}\n            studentName={currentStudents.find(s => s.id === selectedStudentId)?.name || \"\"}\n            studentAvatar={currentStudents.find(s => s.id === selectedStudentId)?.avatar || \"\"}\n            templates={templates}\n            onApplyFeedback={handleApplyFeedback}\n        />\n      )}\n\n      <FeedbackTemplateManager\n        isOpen={managerOpen}\n        onClose={() => setManagerOpen(false)}\n        templates={templates}\n        onAdd={handleAddTemplate}\n        onEdit={handleEditTemplate}\n        onDelete={handleDeleteTemplate}\n      />\n\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}