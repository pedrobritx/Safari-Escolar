{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/button.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport React from \"react\";\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"primary\" | \"secondary\" | \"ghost\" | \"accent\" | \"outline\" | \"destructive\";\n  size?: \"sm\" | \"md\" | \"lg\" | \"icon\";\n  href?: string;\n}\n\nexport function Button({\n  className = \"\",\n  variant = \"primary\",\n  size = \"md\",\n  children,\n  href,\n  ...props\n}: ButtonProps) {\n  // Base: structural + focus + disabled\n  const baseClasses = \"inline-flex items-center justify-center font-medium transition-all duration-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent)] active:scale-[0.98] disabled:opacity-50 disabled:pointer-events-none cursor-pointer\";\n  \n  // Size variants\n  const sizeClasses = {\n    sm: \"h-8 px-3 text-sm rounded-[var(--radius-md)]\",\n    md: \"h-11 px-6 text-base rounded-[var(--radius-md)]\",\n    lg: \"h-14 px-8 text-lg rounded-[var(--radius-lg)]\",\n    icon: \"h-11 w-11 rounded-[var(--radius-md)]\",\n  };\n\n  // Aesthetic variants (Skeuomorphic)\n  // We use shadow-md for elevation 2, and remove/inset on active.\n  const variantClasses = {\n    primary: \"bg-[var(--primary)] text-[var(--primary-fg)] shadow-sm hover:brightness-105 active:brightness-95 active:shadow-inner border border-transparent\",\n    secondary: \"bg-[var(--secondary)] text-[var(--secondary-fg)] shadow-sm hover:brightness-105 active:brightness-95 active:shadow-inner border border-transparent\",\n    accent: \"bg-[var(--accent)] text-[var(--accent-fg)] shadow-md hover:brightness-105 active:brightness-95 active:shadow-inner border border-transparent\",\n    destructive: \"bg-red-500 text-white shadow-sm hover:bg-red-600 active:bg-red-700 active:shadow-inner border border-transparent\",\n    ghost: \"bg-transparent text-[var(--text)] hover:bg-[var(--surface-glass)] active:bg-[var(--border)]\",\n    outline: \"bg-transparent text-[var(--text)] border border-[var(--border)] hover:bg-[var(--surface-glass)] active:scale-[0.98]\",\n  };\n\n  const classes = `${baseClasses} ${sizeClasses[size]} ${variantClasses[variant]} ${className}`;\n\n  if (href) {\n    return (\n      <Link href={href} className={classes}>\n        {children}\n      </Link>\n    );\n  }\n\n  return (\n    <button className={classes} {...props}>\n      {children}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AASO,SAAS,OAAO,EACrB,YAAY,EAAE,EACd,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,QAAQ,EACR,IAAI,EACJ,GAAG,OACS;IACZ,sCAAsC;IACtC,MAAM,cAAc;IAEpB,gBAAgB;IAChB,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,MAAM;IACR;IAEA,oCAAoC;IACpC,gEAAgE;IAChE,MAAM,iBAAiB;QACrB,SAAS;QACT,WAAW;QACX,QAAQ;QACR,aAAa;QACb,OAAO;QACP,SAAS;IACX;IAEA,MAAM,UAAU,GAAG,YAAY,CAAC,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW;IAE7F,IAAI,MAAM;QACR,qBACE,8OAAC,uKAAI;YAAC,MAAM;YAAM,WAAW;sBAC1B;;;;;;IAGP;IAEA,qBACE,8OAAC;QAAO,WAAW;QAAU,GAAG,KAAK;kBAClC;;;;;;AAGP"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/badge.tsx"],"sourcesContent":["import React from \"react\";\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement> {\n  variant?: \"primary\" | \"secondary\" | \"accent\" | \"destructive\" | \"outline\";\n}\n\nexport function Badge({\n  className = \"\",\n  variant = \"primary\",\n  ...props\n}: BadgeProps) {\n  const baseClasses = \"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:ring-offset-2\";\n\n  const variantClasses = {\n    primary: \"border-transparent bg-[var(--primary)] text-[var(--primary-fg)] shadow hover:bg-[var(--primary)]/80\",\n    secondary: \"border-transparent bg-[var(--secondary)] text-[var(--secondary-fg)] hover:bg-[var(--secondary)]/80\",\n    accent: \"border-transparent bg-[var(--accent)] text-[var(--accent-fg)] shadow hover:bg-[var(--accent)]/80\",\n    destructive: \"border-transparent bg-red-500 text-white shadow hover:bg-red-600\",\n    outline: \"text-[var(--text)] border-[var(--border)] border\",\n  };\n\n  const classes = `${baseClasses} ${variantClasses[variant]} ${className}`;\n\n  return (\n    <div className={classes} {...props} />\n  );\n}\n"],"names":[],"mappings":";;;;;;AAMO,SAAS,MAAM,EACpB,YAAY,EAAE,EACd,UAAU,SAAS,EACnB,GAAG,OACQ;IACX,MAAM,cAAc;IAEpB,MAAM,iBAAiB;QACrB,SAAS;QACT,WAAW;QACX,QAAQ;QACR,aAAa;QACb,SAAS;IACX;IAEA,MAAM,UAAU,GAAG,YAAY,CAAC,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW;IAExE,qBACE,8OAAC;QAAI,WAAW;QAAU,GAAG,KAAK;;;;;;AAEtC"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/calendar/components/calendar-agenda.tsx"],"sourcesContent":["import { CalendarEvent } from \"../types\";\nimport { GlassPanel } from \"@/components/ui/glass-panel\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { format } from \"date-fns\";\nimport { ptBR } from \"date-fns/locale\";\nimport { CalendarRange, Clock } from \"lucide-react\";\n\nexport const calendarTypeLabels: Record<CalendarEvent[\"type\"], string> = {\n  assignment_due: \"Entrega\",\n  exam: \"Prova\",\n  meeting: \"Reunião\",\n  break: \"Recesso\",\n  other: \"Outro\",\n};\n\nexport const calendarTypeColors: Record<CalendarEvent[\"type\"], string> = {\n  assignment_due: \"bg-[var(--primary)]/10 text-[var(--primary)]\",\n  exam: \"bg-[var(--accent)]/10 text-[var(--accent)]\",\n  meeting: \"bg-[var(--secondary)]/10 text-[var(--secondary)]\",\n  break: \"bg-amber-100 text-amber-800\",\n  other: \"bg-slate-200 text-slate-700\",\n};\n\nexport function CalendarAgenda({ events }: { events: CalendarEvent[] }) {\n  if (events.length === 0) {\n    return (\n      <div className=\"text-center py-10 text-[var(--text-muted)]\">\n        Nenhum evento agendado neste período.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      {events.map((event) => {\n        const start = new Date(event.start);\n        const end = event.end ? new Date(event.end) : null;\n        return (\n          <GlassPanel\n            key={event.id}\n            className=\"p-4 flex items-start gap-3 border-[var(--border)] bg-[var(--surface)]\"\n          >\n            <div className=\"mt-1\">\n              <CalendarRange size={16} className=\"text-[var(--text-muted)]\" />\n            </div>\n            <div className=\"flex-1 space-y-1\">\n              <div className=\"flex items-center justify-between gap-2\">\n                <div className=\"flex items-center gap-2\">\n                  <Badge variant=\"secondary\" className={calendarTypeColors[event.type] || \"\"}>\n                    {calendarTypeLabels[event.type] || \"Evento\"}\n                  </Badge>\n                  <span className=\"font-semibold text-sm\">{event.title}</span>\n                </div>\n                <div className=\"text-xs text-[var(--text-muted)] flex items-center gap-1\">\n                  <Clock size={12} />\n                  <span>\n                    {format(start, \"dd MMM, HH:mm\", { locale: ptBR })}\n                    {end ? ` - ${format(end, \"HH:mm\", { locale: ptBR })}` : \"\"}\n                  </span>\n                </div>\n              </div>\n              {event.description && (\n                <p className=\"text-sm text-[var(--text-muted)]\">{event.description}</p>\n              )}\n            </div>\n          </GlassPanel>\n        );\n      })}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;AAEO,MAAM,qBAA4D;IACvE,gBAAgB;IAChB,MAAM;IACN,SAAS;IACT,OAAO;IACP,OAAO;AACT;AAEO,MAAM,qBAA4D;IACvE,gBAAgB;IAChB,MAAM;IACN,SAAS;IACT,OAAO;IACP,OAAO;AACT;AAEO,SAAS,eAAe,EAAE,MAAM,EAA+B;IACpE,IAAI,OAAO,MAAM,KAAK,GAAG;QACvB,qBACE,8OAAC;YAAI,WAAU;sBAA6C;;;;;;IAIhE;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,OAAO,GAAG,CAAC,CAAC;YACX,MAAM,QAAQ,IAAI,KAAK,MAAM,KAAK;YAClC,MAAM,MAAM,MAAM,GAAG,GAAG,IAAI,KAAK,MAAM,GAAG,IAAI;YAC9C,qBACE,8OAAC,wJAAU;gBAET,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,yOAAa;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;kCAErC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,0IAAK;gDAAC,SAAQ;gDAAY,WAAW,kBAAkB,CAAC,MAAM,IAAI,CAAC,IAAI;0DACrE,kBAAkB,CAAC,MAAM,IAAI,CAAC,IAAI;;;;;;0DAErC,8OAAC;gDAAK,WAAU;0DAAyB,MAAM,KAAK;;;;;;;;;;;;kDAEtD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,6MAAK;gDAAC,MAAM;;;;;;0DACb,8OAAC;;oDACE,IAAA,+JAAM,EAAC,OAAO,iBAAiB;wDAAE,QAAQ,yJAAI;oDAAC;oDAC9C,MAAM,CAAC,GAAG,EAAE,IAAA,+JAAM,EAAC,KAAK,SAAS;wDAAE,QAAQ,yJAAI;oDAAC,IAAI,GAAG;;;;;;;;;;;;;;;;;;;4BAI7D,MAAM,WAAW,kBAChB,8OAAC;gCAAE,WAAU;0CAAoC,MAAM,WAAW;;;;;;;;;;;;;eAvBjE,MAAM,EAAE;;;;;QA4BnB;;;;;;AAGN"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/input.tsx"],"sourcesContent":["\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type InputProps = React.InputHTMLAttributes<HTMLInputElement>\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-11 w-full rounded-md border border-[var(--border)] bg-[var(--surface)] px-3 py-2 text-sm ring-offset-[var(--bg)] file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[var(--text-muted)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--primary)] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-[var(--text)] transition-colors\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAIA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,yHAAE,EACX,qaACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAKA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/components/ui/label.tsx"],"sourcesContent":["\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Label = React.forwardRef<\n  HTMLLabelElement,\n  React.LabelHTMLAttributes<HTMLLabelElement>\n>(({ className, ...props }, ref) => (\n  <label\n    ref={ref}\n    className={cn(\n      \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-[var(--text)]\",\n      className\n    )}\n    {...props}\n  />\n))\nLabel.displayName = \"Label\"\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,iHACA;QAED,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 335, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/features/calendar/components/calendar-form.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { CalendarEventType } from \"../types\";\n\ninterface CalendarFormProps {\n  onSubmit: (data: {\n    title: string;\n    type: CalendarEventType;\n    date: string;\n    startTime: string;\n    endTime?: string;\n    description?: string;\n  }) => Promise<void>;\n  isSubmitting: boolean;\n}\n\nexport function CalendarForm({ onSubmit, isSubmitting }: CalendarFormProps) {\n  const [title, setTitle] = useState(\"\");\n  const [type, setType] = useState<CalendarEventType>(\"assignment_due\");\n  const [date, setDate] = useState(new Date().toISOString().slice(0, 10));\n  const [startTime, setStartTime] = useState(\"09:00\");\n  const [endTime, setEndTime] = useState(\"10:00\");\n  const [description, setDescription] = useState(\"\");\n\n  const handleSubmit = async () => {\n    await onSubmit({ title, type, date, startTime, endTime, description });\n    setTitle(\"\");\n    setDescription(\"\");\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"space-y-1\">\n        <Label>Título</Label>\n        <Input value={title} onChange={(e) => setTitle(e.target.value)} placeholder=\"Reunião, prova...\" />\n      </div>\n      <div className=\"grid grid-cols-3 gap-2\">\n        <div className=\"space-y-1\">\n          <Label>Tipo</Label>\n          <select\n            className=\"h-10 rounded-md border border-[var(--border)] bg-[var(--surface)] px-3 text-sm\"\n            value={type}\n            onChange={(e) => setType(e.target.value as CalendarEventType)}\n          >\n            <option value=\"assignment_due\">Entrega</option>\n            <option value=\"exam\">Prova</option>\n            <option value=\"meeting\">Reunião</option>\n            <option value=\"break\">Recesso</option>\n            <option value=\"other\">Outro</option>\n          </select>\n        </div>\n        <div className=\"space-y-1\">\n          <Label>Data</Label>\n          <Input type=\"date\" value={date} onChange={(e) => setDate(e.target.value)} />\n        </div>\n        <div className=\"space-y-1 flex gap-2\">\n          <div className=\"flex-1\">\n            <Label>Início</Label>\n            <Input type=\"time\" value={startTime} onChange={(e) => setStartTime(e.target.value)} />\n          </div>\n          <div className=\"flex-1\">\n            <Label>Fim</Label>\n            <Input type=\"time\" value={endTime} onChange={(e) => setEndTime(e.target.value)} />\n          </div>\n        </div>\n      </div>\n      <div className=\"space-y-1\">\n        <Label>Descrição</Label>\n        <Textarea\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          placeholder=\"Notas adicionais, materiais, link...\"\n          rows={3}\n        />\n      </div>\n      <Button onClick={handleSubmit} disabled={!title || isSubmitting}>\n        {isSubmitting ? \"Salvando...\" : \"Adicionar\"}\n      </Button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAeO,SAAS,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAqB;IACxE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAoB;IACpD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,GAAG;IACnE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,MAAM,eAAe;QACnB,MAAM,SAAS;YAAE;YAAO;YAAM;YAAM;YAAW;YAAS;QAAY;QACpE,SAAS;QACT,eAAe;IACjB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0IAAK;kCAAC;;;;;;kCACP,8OAAC,0IAAK;wBAAC,OAAO;wBAAO,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBAAG,aAAY;;;;;;;;;;;;0BAE9E,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;0CAAC;;;;;;0CACP,8OAAC;gCACC,WAAU;gCACV,OAAO;gCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;kDAEvC,8OAAC;wCAAO,OAAM;kDAAiB;;;;;;kDAC/B,8OAAC;wCAAO,OAAM;kDAAO;;;;;;kDACrB,8OAAC;wCAAO,OAAM;kDAAU;;;;;;kDACxB,8OAAC;wCAAO,OAAM;kDAAQ;;;;;;kDACtB,8OAAC;wCAAO,OAAM;kDAAQ;;;;;;;;;;;;;;;;;;kCAG1B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0IAAK;0CAAC;;;;;;0CACP,8OAAC,0IAAK;gCAAC,MAAK;gCAAO,OAAO;gCAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;kCAEzE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,0IAAK;kDAAC;;;;;;kDACP,8OAAC,0IAAK;wCAAC,MAAK;wCAAO,OAAO;wCAAW,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0CAEnF,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,0IAAK;kDAAC;;;;;;kDACP,8OAAC,0IAAK;wCAAC,MAAK;wCAAO,OAAO;wCAAS,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;;;;;;;0BAInF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0IAAK;kCAAC;;;;;;kCACP,8OAAC,gJAAQ;wBACP,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,aAAY;wBACZ,MAAM;;;;;;;;;;;;0BAGV,8OAAC,4IAAM;gBAAC,SAAS;gBAAc,UAAU,CAAC,SAAS;0BAChD,eAAe,gBAAgB;;;;;;;;;;;;AAIxC"}},
    {"offset": {"line": 604, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/lib/api.ts"],"sourcesContent":["import { getCookie } from \"./utils\";\n\ntype ApiOptions = RequestInit & { csrf?: boolean };\n\nexport async function apiFetch(input: string, options: ApiOptions = {}) {\n  const { csrf = true, headers, ...rest } = options;\n  const init: RequestInit = {\n    credentials: \"include\",\n    ...rest,\n    headers: {\n      ...(headers || {}),\n    },\n  };\n\n  const method = (init.method || \"GET\").toUpperCase();\n  const needsCsrf = csrf && ![\"GET\", \"HEAD\", \"OPTIONS\"].includes(method);\n  if (needsCsrf) {\n    (init.headers as Record<string, string>)[\"X-CSRFToken\"] = getCookie(\"csrftoken\") || \"\";\n    (init.headers as Record<string, string>)[\"Content-Type\"] =\n      (init.headers as Record<string, string>)[\"Content-Type\"] || \"application/json\";\n  }\n\n  return fetch(input, init);\n}\n"],"names":[],"mappings":";;;;AAAA;;AAIO,eAAe,SAAS,KAAa,EAAE,UAAsB,CAAC,CAAC;IACpE,MAAM,EAAE,OAAO,IAAI,EAAE,OAAO,EAAE,GAAG,MAAM,GAAG;IAC1C,MAAM,OAAoB;QACxB,aAAa;QACb,GAAG,IAAI;QACP,SAAS;YACP,GAAI,WAAW,CAAC,CAAC;QACnB;IACF;IAEA,MAAM,SAAS,CAAC,KAAK,MAAM,IAAI,KAAK,EAAE,WAAW;IACjD,MAAM,YAAY,QAAQ,CAAC;QAAC;QAAO;QAAQ;KAAU,CAAC,QAAQ,CAAC;IAC/D,IAAI,WAAW;QACZ,KAAK,OAAO,AAA2B,CAAC,cAAc,GAAG,IAAA,gIAAS,EAAC,gBAAgB;QACnF,KAAK,OAAO,AAA2B,CAAC,eAAe,GACtD,AAAC,KAAK,OAAO,AAA2B,CAAC,eAAe,IAAI;IAChE;IAEA,OAAO,MAAM,OAAO;AACtB"}},
    {"offset": {"line": 635, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedr/Developer/Safari%20Escolar/apps/web/src/app/teacher/%28dashboard%29/calendar/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport {\n  addDays,\n  addMonths,\n  eachDayOfInterval,\n  endOfDay,\n  endOfMonth,\n  endOfWeek,\n  format,\n  formatISO,\n  isSameDay,\n  isSameMonth,\n  startOfDay,\n  startOfMonth,\n  startOfWeek,\n  subDays,\n  subMonths,\n} from \"date-fns\";\nimport { ptBR } from \"date-fns/locale\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { GlassPanel } from \"@/components/ui/glass-panel\";\nimport { CalendarAgenda, calendarTypeColors, calendarTypeLabels } from \"@/features/calendar/components/calendar-agenda\";\nimport { CalendarEvent } from \"@/features/calendar/types\";\nimport { CalendarForm } from \"@/features/calendar/components/calendar-form\";\nimport { Classroom } from \"@/features/teacher/types\";\nimport { apiFetch } from \"@/lib/api\";\nimport { CalendarDays, CalendarRange, ChevronLeft, ChevronRight, Download, RefreshCcw, SunMedium } from \"lucide-react\";\n\ntype CalendarView = \"day\" | \"workweek\" | \"month\";\n\nconst typeAccentColors: Record<CalendarEvent[\"type\"], string> = {\n  assignment_due: \"bg-[var(--primary)]\",\n  exam: \"bg-[var(--accent)]\",\n  meeting: \"bg-[var(--secondary)]\",\n  break: \"bg-amber-500\",\n  other: \"bg-slate-400\",\n};\n\nexport default function CalendarPage() {\n  const [classrooms, setClassrooms] = useState<Classroom[]>([]);\n  const [activeClassroomId, setActiveClassroomId] = useState<string | null>(null);\n  const [events, setEvents] = useState<CalendarEvent[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isExporting, setIsExporting] = useState(false);\n  const [reloadFlag, setReloadFlag] = useState(0);\n  const [view, setView] = useState<CalendarView>(\"workweek\");\n  const [focusDate, setFocusDate] = useState<Date>(new Date());\n\n  const dateRange = useMemo(() => {\n    if (view === \"day\") {\n      const from = startOfDay(focusDate);\n      const to = endOfDay(focusDate);\n      return { from: formatISO(from), to: formatISO(to) };\n    }\n    if (view === \"workweek\") {\n      const start = startOfWeek(focusDate, { weekStartsOn: 1 });\n      const end = addDays(start, 4);\n      return { from: formatISO(startOfDay(start)), to: formatISO(endOfDay(end)) };\n    }\n    const start = startOfMonth(focusDate);\n    const end = endOfMonth(focusDate);\n    return { from: formatISO(startOfDay(start)), to: formatISO(endOfDay(end)) };\n  }, [view, focusDate]);\n\n  const eventsByDay = useMemo(() => {\n    const map = new Map<string, CalendarEvent[]>();\n    events.forEach((event) => {\n      const key = format(new Date(event.start), \"yyyy-MM-dd\");\n      map.set(key, [...(map.get(key) || []), event]);\n    });\n    return map;\n  }, [events]);\n\n  const workWeekDays = useMemo(() => {\n    const start = startOfWeek(focusDate, { weekStartsOn: 1 });\n    return Array.from({ length: 5 }, (_, index) => addDays(start, index));\n  }, [focusDate]);\n\n  const monthDays = useMemo(() => {\n    const start = startOfWeek(startOfMonth(focusDate), { weekStartsOn: 1 });\n    const end = endOfWeek(endOfMonth(focusDate), { weekStartsOn: 1 });\n    return eachDayOfInterval({ start, end });\n  }, [focusDate]);\n\n  const viewLabel = useMemo(() => {\n    if (view === \"day\") {\n      return format(focusDate, \"EEEE, dd 'de' MMMM\", { locale: ptBR });\n    }\n    if (view === \"workweek\") {\n      const start = startOfWeek(focusDate, { weekStartsOn: 1 });\n      const end = addDays(start, 4);\n      return `${format(start, \"dd MMM\", { locale: ptBR })} · ${format(end, \"dd MMM\", { locale: ptBR })}`;\n    }\n    return format(focusDate, \"MMMM yyyy\", { locale: ptBR });\n  }, [focusDate, view]);\n\n  const focusKey = useMemo(() => format(focusDate, \"yyyy-MM-dd\"), [focusDate]);\n  const today = useMemo(() => new Date(), []);\n  const todayKey = useMemo(() => format(today, \"yyyy-MM-dd\"), [today]);\n\n  const loadClassrooms = async () => {\n    const res = await apiFetch(\"/api/classrooms\");\n    if (!res.ok) throw new Error(\"Falha ao carregar turmas\");\n    const data: Classroom[] = await res.json();\n    setClassrooms(data);\n    if (!activeClassroomId && data[0]) {\n      setActiveClassroomId(data[0].id);\n    }\n    return data;\n  };\n\n  const loadEvents = async (classId?: string | null) => {\n    if (!classId) {\n      setEvents([]);\n      return;\n    }\n    const res = await apiFetch(\n      `/api/calendar/?classroom_id=${classId}&from=${encodeURIComponent(dateRange.from)}&to=${encodeURIComponent(dateRange.to)}`\n    );\n    if (!res.ok) {\n      // Log the error but don't throw - just show empty state\n      console.warn(\"Calendar API error:\", res.status);\n      setEvents([]);\n      return;\n    }\n    const data: CalendarEvent[] = await res.json();\n    setEvents(data);\n  };\n\n  const refresh = async (classId?: string | null) => {\n    setIsLoading(true);\n    try {\n      const list = await loadClassrooms();\n      const target = classId || activeClassroomId || list[0]?.id || null;\n      if (!target) {\n        setEvents([]);\n        setIsLoading(false);\n        return;\n      }\n      if (!activeClassroomId) {\n        setActiveClassroomId(target);\n        return;\n      }\n      if (target !== activeClassroomId) {\n        setActiveClassroomId(target);\n        return;\n      }\n      setReloadFlag((value) => value + 1);\n    } catch (e) {\n      console.error(e);\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    refresh();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (!activeClassroomId) {\n      setIsLoading(false);\n      return;\n    }\n    setIsLoading(true);\n    loadEvents(activeClassroomId)\n      .catch(console.error)\n      .finally(() => setIsLoading(false));\n  }, [activeClassroomId, dateRange.from, dateRange.to, reloadFlag]);\n\n  const goToToday = () => setFocusDate(new Date());\n\n  const goToPrevious = () => {\n    setFocusDate((current) => {\n      if (view === \"day\") return subDays(current, 1);\n      if (view === \"workweek\") return subDays(current, 5);\n      return subMonths(current, 1);\n    });\n  };\n\n  const goToNext = () => {\n    setFocusDate((current) => {\n      if (view === \"day\") return addDays(current, 1);\n      if (view === \"workweek\") return addDays(current, 5);\n      return addMonths(current, 1);\n    });\n  };\n\n  const handleViewChange = (nextView: CalendarView) => {\n    setView(nextView);\n    if (nextView === \"day\") {\n      setFocusDate(new Date());\n    }\n  };\n\n  const handleDayJump = (day: Date, nextView?: CalendarView) => {\n    setFocusDate(day);\n    if (nextView) {\n      setView(nextView);\n    }\n  };\n\n  const timeWindow = (event: CalendarEvent) => {\n    const start = new Date(event.start);\n    const end = event.end ? new Date(event.end) : null;\n    if (end) {\n      return `${format(start, \"HH:mm\")} - ${format(end, \"HH:mm\")}`;\n    }\n    return format(start, \"HH:mm\");\n  };\n\n  const viewOptions: { key: CalendarView; label: string; icon: JSX.Element }[] = [\n    { key: \"day\", label: \"Hoje\", icon: <SunMedium size={14} /> },\n    { key: \"workweek\", label: \"Semana\", icon: <CalendarDays size={14} /> },\n    { key: \"month\", label: \"Mês\", icon: <CalendarRange size={14} /> },\n  ];\n\n  const handleCreate = async (data: {\n    title: string;\n    type: CalendarEvent[\"type\"];\n    date: string;\n    startTime: string;\n    endTime?: string;\n    description?: string;\n  }) => {\n    const classId = activeClassroomId;\n    if (!classId) return;\n    setIsSubmitting(true);\n    try {\n      const startISO = `${data.date}T${data.startTime}:00`;\n      const endISO = data.endTime ? `${data.date}T${data.endTime}:00` : startISO;\n      const res = await apiFetch(\"/api/calendar/\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          title: data.title,\n          type: data.type,\n          description: data.description || \"\",\n          start: startISO,\n          end: endISO,\n          classroom: classId,\n        }),\n      });\n      if (!res.ok) {\n        const errorText = await res.text();\n        console.error(\"Calendar create error:\", res.status, errorText);\n        throw new Error(errorText || `Erro ${res.status} ao criar evento`);\n      }\n      await loadEvents(classId);\n    } catch (e: any) {\n      alert(e.message);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleExport = async () => {\n    if (!activeClassroomId) return;\n    setIsExporting(true);\n    try {\n      const res = await apiFetch(`/api/calendar/ics/?classroom_id=${activeClassroomId}`, { csrf: false });\n      if (!res.ok) {\n        throw new Error(await res.text());\n      }\n      const blob = await res.blob();\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.download = `calendar-${activeClassroomId}.ics`;\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      URL.revokeObjectURL(url);\n    } catch (e: any) {\n      alert(`Erro ao exportar: ${e.message}`);\n    } finally {\n      setIsExporting(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6 pb-16\">\n      <div className=\"flex items-center justify-between gap-3 flex-wrap\">\n        <div>\n          <h1 className=\"text-2xl font-bold\">Agenda</h1>\n          <p className=\"text-[var(--text-muted)]\">Entrega de tarefas, provas, reuniões e recados.</p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <select\n            className=\"h-10 rounded-md border border-[var(--border)] bg-[var(--surface)] px-3 text-sm\"\n            value={activeClassroomId || \"\"}\n            onChange={(e) => setActiveClassroomId(e.target.value)}\n          >\n            {classrooms.map((c) => (\n              <option key={c.id} value={c.id}>{c.name}</option>\n            ))}\n          </select>\n          <Button variant=\"outline\" onClick={() => refresh(activeClassroomId)} className=\"gap-2\">\n            <RefreshCcw size={14} />\n            Atualizar\n          </Button>\n          <Button variant=\"secondary\" onClick={handleExport} disabled={!activeClassroomId || isExporting} className=\"gap-2\">\n            <Download size={14} />\n            {isExporting ? \"Exportando...\" : \"ICS\"}\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n        <GlassPanel className=\"p-4 space-y-5 lg:col-span-2\">\n          <div className=\"flex flex-wrap items-center justify-between gap-3\">\n            <div className=\"flex flex-wrap items-center gap-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={goToPrevious}\n                aria-label=\"Período anterior\"\n                className=\"border border-[var(--border)] bg-[var(--surface)]/70\"\n              >\n                <ChevronLeft size={18} />\n              </Button>\n              <div className=\"px-3 py-2 rounded-[var(--radius-lg)] border border-[var(--border)] bg-[var(--surface)]/80 shadow-sm\">\n                <div className=\"text-[10px] uppercase tracking-wide text-[var(--text-muted)]\">\n                  {view === \"month\" ? \"Visão mensal\" : view === \"workweek\" ? \"Semana de 5 dias\" : \"Hoje\"}\n                </div>\n                <div className=\"text-sm font-semibold text-[var(--text)]\">{viewLabel}</div>\n              </div>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={goToNext}\n                aria-label=\"Próximo período\"\n                className=\"border border-[var(--border)] bg-[var(--surface)]/70\"\n              >\n                <ChevronRight size={18} />\n              </Button>\n              <Button variant=\"outline\" size=\"sm\" onClick={goToToday} className=\"gap-2\">\n                <SunMedium size={14} />\n                Hoje\n              </Button>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              {viewOptions.map((option) => (\n                <Button\n                  key={option.key}\n                  variant={view === option.key ? \"secondary\" : \"outline\"}\n                  size=\"sm\"\n                  className={`gap-2 ${view === option.key ? \"shadow-md\" : \"\"}`}\n                  onClick={() => handleViewChange(option.key)}\n                >\n                  {option.icon}\n                  {option.label}\n                </Button>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-2 text-xs text-[var(--text-muted)]\">\n            <div className=\"h-1.5 w-1.5 rounded-full bg-[var(--secondary)]\" />\n            Mostrando eventos de {new Date(dateRange.from).toLocaleDateString(\"pt-BR\")} até {new Date(dateRange.to).toLocaleDateString(\"pt-BR\")}\n          </div>\n\n          {isLoading ? (\n            <div className=\"flex justify-center py-10\">\n              <div className=\"h-9 w-9 animate-spin rounded-full border-2 border-[var(--border)] border-b-[var(--primary)]\" />\n            </div>\n          ) : (\n            <>\n              {view === \"day\" && (\n                <CalendarAgenda events={eventsByDay.get(focusKey) || []} />\n              )}\n\n              {view === \"workweek\" && (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-3\">\n                  {workWeekDays.map((day) => {\n                    const dayKey = format(day, \"yyyy-MM-dd\");\n                    const dayEvents = eventsByDay.get(dayKey) || [];\n                    const isToday = isSameDay(day, today);\n                    return (\n                      <div\n                        key={dayKey}\n                        className=\"flex flex-col gap-3 rounded-[var(--radius-lg)] border border-[var(--border)] bg-[var(--surface)]/80 p-3 shadow-sm\"\n                      >\n                        <div className=\"flex items-center justify-between\">\n                          <div className=\"flex flex-col leading-tight\">\n                            <span className=\"text-[11px] uppercase tracking-wide text-[var(--text-muted)]\">\n                              {format(day, \"EEE\", { locale: ptBR })}\n                            </span>\n                            <span className=\"text-sm font-semibold text-[var(--text)]\">\n                              {format(day, \"d 'de' MMM\", { locale: ptBR })}\n                            </span>\n                          </div>\n                          {isToday && <span className=\"text-[10px] font-semibold text-[var(--accent)]\">Hoje</span>}\n                        </div>\n                        <div className=\"space-y-2\">\n                          {dayEvents.length === 0 ? (\n                            <div className=\"text-xs text-[var(--text-muted)]\">Sem eventos</div>\n                          ) : (\n                            dayEvents.map((event) => (\n                              <div\n                                key={event.id}\n                                className=\"space-y-1 rounded-[var(--radius-md)] border border-[var(--border)] bg-[var(--surface)] px-2 py-2 shadow-sm\"\n                              >\n                                <div className=\"flex items-center justify-between gap-2\">\n                                  <Badge variant=\"secondary\" className={calendarTypeColors[event.type] || \"\"}>\n                                    {calendarTypeLabels[event.type] || \"Evento\"}\n                                  </Badge>\n                                  <span className=\"text-[11px] text-[var(--text-muted)]\">{timeWindow(event)}</span>\n                                </div>\n                                <div className=\"text-sm font-semibold leading-tight text-[var(--text)]\">\n                                  {event.title}\n                                </div>\n                                {event.description ? (\n                                  <div className=\"text-xs text-[var(--text-muted)] overflow-hidden text-ellipsis whitespace-nowrap\">\n                                    {event.description}\n                                  </div>\n                                ) : null}\n                              </div>\n                            ))\n                          )}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              )}\n\n              {view === \"month\" && (\n                <div className=\"space-y-2\">\n                  <div className=\"hidden md:grid grid-cols-7 gap-2 px-1 text-[11px] font-semibold uppercase tracking-wide text-[var(--text-muted)]\">\n                    {[\"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sáb\", \"Dom\"].map((label) => (\n                      <div key={label} className=\"text-center\">\n                        {label}\n                      </div>\n                    ))}\n                  </div>\n                  <div className=\"overflow-x-auto -mx-1\">\n                    <div className=\"min-w-[720px] grid grid-cols-7 gap-2 px-1\">\n                      {monthDays.map((day) => {\n                        const dayKey = format(day, \"yyyy-MM-dd\");\n                        const dayEvents = eventsByDay.get(dayKey) || [];\n                        const isCurrentMonth = isSameMonth(day, focusDate);\n                        const isToday = dayKey === todayKey;\n                        const isFocused = dayKey === focusKey;\n                        return (\n                          <button\n                            key={dayKey}\n                            className={`text-left rounded-[var(--radius-lg)] border border-[var(--border)] bg-[var(--surface)]/70 p-2 shadow-sm transition hover:-translate-y-[2px] focus:outline-none focus:ring-2 focus:ring-[var(--accent)] ${\n                              isCurrentMonth ? \"\" : \"opacity-60\"\n                            } ${isFocused ? \"ring-2 ring-[var(--accent)]\" : \"\"}`}\n                            onClick={() => handleDayJump(day, \"day\")}\n                          >\n                            <div className=\"flex items-center justify-between text-[11px] font-semibold text-[var(--text)]\">\n                              <span>{format(day, \"d\", { locale: ptBR })}</span>\n                              {isToday ? (\n                                <span className=\"text-[10px] font-semibold text-[var(--accent)]\">Hoje</span>\n                              ) : dayEvents.length > 0 ? (\n                                <span className=\"text-[10px] text-[var(--text-muted)]\">{dayEvents.length} evt</span>\n                              ) : null}\n                            </div>\n                            <div className=\"mt-2 space-y-1\">\n                              {dayEvents.slice(0, 3).map((event) => (\n                                <div\n                                  key={event.id}\n                                  className=\"flex items-start gap-2 rounded-[var(--radius-md)] border border-[var(--border)] bg-[var(--surface)] px-2 py-1 shadow-sm\"\n                                >\n                                  <span\n                                    className={`mt-1 h-2 w-2 rounded-full ${typeAccentColors[event.type] || \"bg-[var(--text-muted)]\"}`}\n                                  />\n                                  <div className=\"min-w-0\">\n                                    <div className=\"truncate text-[11px] font-semibold leading-tight\">{event.title}</div>\n                                    <div className=\"text-[10px] text-[var(--text-muted)]\">{timeWindow(event)}</div>\n                                  </div>\n                                </div>\n                              ))}\n                              {dayEvents.length > 3 && (\n                                <div className=\"text-[10px] text-[var(--text-muted)]\">\n                                  +{dayEvents.length - 3} {dayEvents.length - 3 === 1 ? \"evento\" : \"eventos\"}\n                                </div>\n                              )}\n                            </div>\n                          </button>\n                        );\n                      })}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </GlassPanel>\n\n        <GlassPanel className=\"p-4 space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-lg font-semibold\">Novo evento</h3>\n          </div>\n          <CalendarForm onSubmit={handleCreate} isSubmitting={isSubmitting} />\n        </GlassPanel>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}